2024-07-14 01:00:42.819 +03:00 [DBG] Connection id "0HN53GRMV8EMO" is closing.
2024-07-14 01:00:42.863 +03:00 [DBG] Connection id "0HN53GRMV8EMO" is closed. The last processed stream ID was 7.
2024-07-14 01:00:42.865 +03:00 [DBG] Connection id "0HN53GRMV8EMO" received FIN.
2024-07-14 01:00:42.867 +03:00 [DBG] Connection id "0HN53GRMV8EMO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:00:42.867 +03:00 [DBG] The connection queue processing loop for 0HN53GRMV8EMO completed.
2024-07-14 01:00:42.873 +03:00 [DBG] Connection id "0HN53GRMV8EMO" stopped.
2024-07-14 01:00:44.838 +03:00 [DBG] Connection id "0HN53GRMV8EMQ" disconnecting.
2024-07-14 01:00:44.840 +03:00 [DBG] Connection id "0HN53GRMV8EMQ" stopped.
2024-07-14 01:00:44.842 +03:00 [DBG] Connection id "0HN53GRMV8EMQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:08:40.533 +03:00 [DBG] debug-messages
2024-07-14 01:08:40.590 +03:00 [INF] Information-messages
2024-07-14 01:08:40.591 +03:00 [WRN] warning-messages
2024-07-14 01:08:40.592 +03:00 [ERR] error-messages
2024-07-14 01:08:40.594 +03:00 [FTL] critical-messages
2024-07-14 01:08:40.676 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 01:08:40.782 +03:00 [DBG] Hosting starting
2024-07-14 01:08:40.812 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 01:08:40.820 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 01:08:40.827 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 01:08:40.829 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 01:08:40.831 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 01:08:40.833 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 01:08:40.840 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 01:08:40.848 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 01:08:40.850 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 01:08:40.851 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 01:08:40.853 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 01:08:40.861 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 01:08:40.867 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:08:40.873 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 01:08:40.876 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:08:40.883 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 01:08:40.889 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 01:08:40.896 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 01:08:40.898 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 01:08:41.029 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 01:08:41.031 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 01:08:41.034 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 01:08:41.035 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 01:08:41.037 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 01:08:41.039 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 01:08:41.041 +03:00 [INF] Hosting environment: Development
2024-07-14 01:08:41.042 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 01:08:41.043 +03:00 [DBG] Hosting started
2024-07-14 01:08:41.328 +03:00 [DBG] Connection id "0HN53H1DC34PG" accepted.
2024-07-14 01:08:41.331 +03:00 [DBG] Connection id "0HN53H1DC34PH" accepted.
2024-07-14 01:08:41.332 +03:00 [DBG] Connection id "0HN53H1DC34PG" started.
2024-07-14 01:08:41.332 +03:00 [DBG] Connection id "0HN53H1DC34PH" started.
2024-07-14 01:08:41.352 +03:00 [DBG] Connection id "0HN53H1DC34PH" received FIN.
2024-07-14 01:08:41.352 +03:00 [DBG] Connection id "0HN53H1DC34PG" received FIN.
2024-07-14 01:08:41.361 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:08:41.361 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:08:41.369 +03:00 [DBG] Connection id "0HN53H1DC34PI" accepted.
2024-07-14 01:08:41.386 +03:00 [DBG] Connection id "0HN53H1DC34PI" started.
2024-07-14 01:08:41.387 +03:00 [DBG] Connection id "0HN53H1DC34PH" stopped.
2024-07-14 01:08:41.387 +03:00 [DBG] Connection id "0HN53H1DC34PG" stopped.
2024-07-14 01:08:41.396 +03:00 [DBG] Connection id "0HN53H1DC34PH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:08:41.396 +03:00 [DBG] Connection id "0HN53H1DC34PG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:08:41.441 +03:00 [DBG] Connection 0HN53H1DC34PI established using the following protocol: "Tls12"
2024-07-14 01:08:41.567 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:08:41.707 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 01:08:41.741 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:08:41.743 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:08:41.869 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:08:41.907 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:08:41.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 351.5942ms
2024-07-14 01:08:41.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:08:41.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:08:41.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 10.8552ms
2024-07-14 01:08:41.993 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.4384ms
2024-07-14 01:08:42.319 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:08:42.322 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:08:42.323 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:08:42.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 285.4202ms
2024-07-14 01:08:55.846 +03:00 [DBG] Connection id "0HN53H1DC34PJ" accepted.
2024-07-14 01:08:55.848 +03:00 [DBG] Connection id "0HN53H1DC34PJ" received FIN.
2024-07-14 01:08:55.849 +03:00 [DBG] Connection id "0HN53H1DC34PJ" started.
2024-07-14 01:08:55.849 +03:00 [DBG] Connection id "0HN53H1DC34PK" accepted.
2024-07-14 01:08:55.853 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:08:55.855 +03:00 [DBG] Connection id "0HN53H1DC34PK" started.
2024-07-14 01:08:55.859 +03:00 [DBG] Connection id "0HN53H1DC34PJ" stopped.
2024-07-14 01:08:55.862 +03:00 [DBG] Connection id "0HN53H1DC34PJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:08:55.868 +03:00 [DBG] Connection 0HN53H1DC34PK established using the following protocol: "Tls12"
2024-07-14 01:08:55.879 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:08:55.888 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:08:55.895 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:08:55.898 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:08:55.901 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:08:55.913 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:08:55.919 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:08:55.956 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:08:55.961 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:08:55.963 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:08:55.966 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:08:55.969 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:08:55.972 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:08:55.977 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:08:56.109 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 01:08:56.151 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:08:56.160 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:08:56.165 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:08:56.170 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:08:56.189 +03:00 [DBG] Connection id "0HN53H1DC34PK", Request id "0HN53H1DC34PK:00000001": started reading request body.
2024-07-14 01:08:56.191 +03:00 [DBG] Connection id "0HN53H1DC34PK", Request id "0HN53H1DC34PK:00000001": done reading request body.
2024-07-14 01:08:56.203 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:08:56.207 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:08:56.208 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:08:56.210 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:08:56.228 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:08:56.235 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:08:56.238 +03:00 [DBG] Is zozosharkawy@yahoo.com Already Exist?
2024-07-14 01:08:56.877 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 01:08:56.880 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 01:08:56.883 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 01:08:57.036 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:08:57.039 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:08:57.296 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:08:57.375 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 01:08:57.618 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 01:08:57.680 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:08:57.684 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:08:57.709 +03:00 [DBG] Created DbConnection. (19ms).
2024-07-14 01:08:57.724 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-07-14 01:08:57.742 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (63ms).
2024-07-14 01:08:57.747 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:08:57.952 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:08:57.963 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:08:58.052 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:08:58.072 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:08:58.086 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 21ms reading results.
2024-07-14 01:08:58.092 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:08:58.099 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (6ms).
2024-07-14 01:08:58.105 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 01:08:58.111 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 01:08:58.112 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-14 01:08:58.114 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-14 01:08:58.116 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-14 01:08:58.119 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-14 01:08:58.129 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 2149.5507ms
2024-07-14 01:08:58.132 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:08:58.133 +03:00 [DBG] Connection id "0HN53H1DC34PK" completed keep alive response.
2024-07-14 01:08:58.141 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:08:58.146 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:08:58.150 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-14 01:08:58.153 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 400 - text/plain;+charset=utf-8 2272.9317ms
2024-07-14 01:09:02.992 +03:00 [DBG] Connection id "0HN53H1DC34PI" received FIN.
2024-07-14 01:09:02.996 +03:00 [DBG] Connection id "0HN53H1DC34PI" is closed. The last processed stream ID was 7.
2024-07-14 01:09:02.997 +03:00 [DBG] The connection queue processing loop for 0HN53H1DC34PI completed.
2024-07-14 01:09:02.998 +03:00 [DBG] Connection id "0HN53H1DC34PI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:09:03.006 +03:00 [DBG] Connection id "0HN53H1DC34PI" stopped.
2024-07-14 01:11:09.489 +03:00 [DBG] Connection id "0HN53H1DC34PK" disconnecting.
2024-07-14 01:11:09.491 +03:00 [DBG] Connection id "0HN53H1DC34PK" stopped.
2024-07-14 01:11:09.493 +03:00 [DBG] Connection id "0HN53H1DC34PK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:11:17.716 +03:00 [DBG] debug-messages
2024-07-14 01:11:17.768 +03:00 [INF] Information-messages
2024-07-14 01:11:17.770 +03:00 [WRN] warning-messages
2024-07-14 01:11:17.772 +03:00 [ERR] error-messages
2024-07-14 01:11:17.773 +03:00 [FTL] critical-messages
2024-07-14 01:11:17.850 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 01:11:17.923 +03:00 [DBG] Hosting starting
2024-07-14 01:11:17.946 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 01:11:17.954 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 01:11:17.963 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 01:11:17.966 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 01:11:17.968 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 01:11:17.971 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 01:11:17.977 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 01:11:17.984 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 01:11:17.986 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 01:11:17.988 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 01:11:17.991 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 01:11:18.001 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 01:11:18.007 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:11:18.019 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 01:11:18.023 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:11:18.030 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 01:11:18.038 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 01:11:18.045 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 01:11:18.048 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 01:11:18.189 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 01:11:18.191 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 01:11:18.193 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 01:11:18.196 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 01:11:18.198 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 01:11:18.199 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 01:11:18.201 +03:00 [INF] Hosting environment: Development
2024-07-14 01:11:18.202 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 01:11:18.204 +03:00 [DBG] Hosting started
2024-07-14 01:11:18.618 +03:00 [DBG] Connection id "0HN53H2S842B7" accepted.
2024-07-14 01:11:18.621 +03:00 [DBG] Connection id "0HN53H2S842B7" started.
2024-07-14 01:11:18.623 +03:00 [DBG] Connection id "0HN53H2S842B8" accepted.
2024-07-14 01:11:18.625 +03:00 [DBG] Connection id "0HN53H2S842B8" started.
2024-07-14 01:11:18.656 +03:00 [DBG] Connection id "0HN53H2S842B7" received FIN.
2024-07-14 01:11:18.656 +03:00 [DBG] Connection id "0HN53H2S842B8" received FIN.
2024-07-14 01:11:18.666 +03:00 [DBG] Connection id "0HN53H2S842B9" accepted.
2024-07-14 01:11:18.671 +03:00 [DBG] Connection id "0HN53H2S842B9" started.
2024-07-14 01:11:18.669 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:11:18.669 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:11:18.695 +03:00 [DBG] Connection id "0HN53H2S842B7" stopped.
2024-07-14 01:11:18.695 +03:00 [DBG] Connection id "0HN53H2S842B8" stopped.
2024-07-14 01:11:18.700 +03:00 [DBG] Connection id "0HN53H2S842B8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:11:18.700 +03:00 [DBG] Connection id "0HN53H2S842B7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:11:18.732 +03:00 [DBG] Connection 0HN53H2S842B9 established using the following protocol: "Tls12"
2024-07-14 01:11:18.786 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:11:18.888 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 01:11:18.921 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:11:18.924 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:11:19.174 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:11:19.233 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:11:19.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 454.1610ms
2024-07-14 01:11:19.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:11:19.266 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:11:19.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.7556ms
2024-07-14 01:11:19.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 167.2577ms
2024-07-14 01:11:19.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:11:19.616 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:11:19.618 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:11:19.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 257.6525ms
2024-07-14 01:11:21.689 +03:00 [DBG] Connection id "0HN53H2S842BA" accepted.
2024-07-14 01:11:21.695 +03:00 [DBG] Connection id "0HN53H2S842BA" received FIN.
2024-07-14 01:11:21.700 +03:00 [DBG] Connection id "0HN53H2S842BB" accepted.
2024-07-14 01:11:21.701 +03:00 [DBG] Connection id "0HN53H2S842BA" started.
2024-07-14 01:11:21.703 +03:00 [DBG] Connection id "0HN53H2S842BB" started.
2024-07-14 01:11:21.705 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:11:21.712 +03:00 [DBG] Connection id "0HN53H2S842BA" stopped.
2024-07-14 01:11:21.714 +03:00 [DBG] Connection id "0HN53H2S842BA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:11:21.720 +03:00 [DBG] Connection 0HN53H2S842BB established using the following protocol: "Tls12"
2024-07-14 01:11:21.739 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:11:21.762 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:11:21.774 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:11:21.777 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:11:21.782 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:11:21.803 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:11:21.809 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:11:21.888 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:11:21.921 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:11:21.923 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:11:21.926 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:11:21.929 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:11:21.987 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:11:21.992 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:11:22.232 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 01:11:22.293 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:11:22.305 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:11:22.310 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:11:22.315 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:11:22.338 +03:00 [DBG] Connection id "0HN53H2S842BB", Request id "0HN53H2S842BB:00000001": started reading request body.
2024-07-14 01:11:22.340 +03:00 [DBG] Connection id "0HN53H2S842BB", Request id "0HN53H2S842BB:00000001": done reading request body.
2024-07-14 01:11:22.351 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:11:22.353 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:11:22.354 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:11:22.356 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:11:22.373 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:11:22.379 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:11:22.381 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:11:23.052 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 01:11:23.057 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 01:11:23.059 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 01:11:23.182 +03:00 [DBG] Connection id "0HN53H2S842B9" received FIN.
2024-07-14 01:11:23.186 +03:00 [DBG] The connection queue processing loop for 0HN53H2S842B9 completed.
2024-07-14 01:11:23.190 +03:00 [DBG] Connection id "0HN53H2S842B9" is closed. The last processed stream ID was 7.
2024-07-14 01:11:23.192 +03:00 [DBG] Connection id "0HN53H2S842B9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:11:23.196 +03:00 [DBG] Connection id "0HN53H2S842B9" stopped.
2024-07-14 01:11:23.202 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:11:23.204 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:11:23.496 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:11:23.581 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 01:11:23.856 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 01:11:23.934 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:11:23.940 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:11:23.970 +03:00 [DBG] Created DbConnection. (28ms).
2024-07-14 01:11:23.978 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (45ms).
2024-07-14 01:11:23.992 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (60ms).
2024-07-14 01:11:23.997 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:24.183 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:24.200 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:11:24.256 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:11:24.278 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:24.292 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 24ms reading results.
2024-07-14 01:11:24.299 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:24.311 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (12ms).
2024-07-14 01:11:24.316 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:11:24.318 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:11:24.513 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-07-14 01:11:24.788 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 01:11:24.957 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:11:24.975 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-07-14 01:11:24.978 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-07-14 01:11:24.989 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:24.996 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:25.001 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:11:25.043 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:11:25.211 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:11:25.319 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:25.321 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 267ms reading results.
2024-07-14 01:11:25.327 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:25.332 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:11:25.345 +03:00 [DBG] User validation failed: DuplicateUserName.
2024-07-14 01:11:25.359 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 3365.0845ms
2024-07-14 01:11:25.364 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:11:25.369 +03:00 [ERR] An error occurred.
System.Exception: Username 'zezosharkawy@yahoo.com' is already taken.
   at SocialMedia.Services.Services.UserService.AddAsync(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 49
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 01:11:25.448 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Username 'zezosharkawy@yahoo.com' is already taken.
   at SocialMedia.Services.Services.UserService.AddAsync(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 49
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 01:11:25.476 +03:00 [DBG] Connection id "0HN53H2S842BB" completed keep alive response.
2024-07-14 01:11:25.483 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:11:25.491 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:11:25.500 +03:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-07-14 01:11:25.503 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 500 - text/plain;+charset=utf-8 3764.6699ms
2024-07-14 01:12:19.885 +03:00 [DBG] Connection id "0HN53H2S842BC" accepted.
2024-07-14 01:12:19.888 +03:00 [DBG] Connection id "0HN53H2S842BC" received FIN.
2024-07-14 01:12:19.889 +03:00 [DBG] Connection id "0HN53H2S842BC" started.
2024-07-14 01:12:19.895 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:12:19.900 +03:00 [DBG] Connection id "0HN53H2S842BC" stopped.
2024-07-14 01:12:19.901 +03:00 [DBG] Connection id "0HN53H2S842BC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:12:19.913 +03:00 [DBG] Connection id "0HN53H2S842BD" accepted.
2024-07-14 01:12:19.918 +03:00 [DBG] Connection id "0HN53H2S842BD" started.
2024-07-14 01:12:19.921 +03:00 [DBG] Connection 0HN53H2S842BD established using the following protocol: "Tls12"
2024-07-14 01:12:19.924 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:12:19.936 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:12:19.938 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:12:19.940 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:12:19.943 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:12:19.948 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 23.8050ms
2024-07-14 01:12:19.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:12:19.973 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:12:19.976 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 3.3042ms
2024-07-14 01:12:19.997 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.6624ms
2024-07-14 01:12:20.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:12:20.166 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:12:20.167 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:12:20.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 23.9977ms
2024-07-14 01:12:23.284 +03:00 [DBG] Connection id "0HN53H2S842BD" received FIN.
2024-07-14 01:12:23.290 +03:00 [DBG] Connection id "0HN53H2S842BD" is closed. The last processed stream ID was 7.
2024-07-14 01:12:23.291 +03:00 [DBG] The connection queue processing loop for 0HN53H2S842BD completed.
2024-07-14 01:12:23.302 +03:00 [DBG] Connection id "0HN53H2S842BD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:12:23.306 +03:00 [DBG] Connection id "0HN53H2S842BD" stopped.
2024-07-14 01:12:40.524 +03:00 [DBG] Connection id "0HN53H2S842BE" accepted.
2024-07-14 01:12:40.525 +03:00 [DBG] Connection id "0HN53H2S842BE" received FIN.
2024-07-14 01:12:40.526 +03:00 [DBG] Connection id "0HN53H2S842BE" started.
2024-07-14 01:12:40.530 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:12:40.536 +03:00 [DBG] Connection id "0HN53H2S842BE" stopped.
2024-07-14 01:12:40.537 +03:00 [DBG] Connection id "0HN53H2S842BF" accepted.
2024-07-14 01:12:40.539 +03:00 [DBG] Connection id "0HN53H2S842BF" started.
2024-07-14 01:12:40.537 +03:00 [DBG] Connection id "0HN53H2S842BE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:12:40.545 +03:00 [DBG] Connection 0HN53H2S842BF established using the following protocol: "Tls12"
2024-07-14 01:12:40.548 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:12:40.553 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:12:40.554 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:12:40.556 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:12:40.557 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:12:40.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 13.1171ms
2024-07-14 01:12:40.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:12:40.582 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:12:40.584 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 1.5670ms
2024-07-14 01:12:40.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 9.5864ms
2024-07-14 01:12:40.785 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:12:40.786 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:12:40.788 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:12:40.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 22.7618ms
2024-07-14 01:13:01.100 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:13:01.103 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:13:01.105 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:13:01.108 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:13:01.112 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:13:01.117 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:13:01.119 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:13:01.121 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:13:01.125 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:13:01.129 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:13:01.132 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:13:01.135 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:13:01.137 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:13:01.141 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:13:01.156 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:13:01.166 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:13:01.170 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:13:01.173 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:13:01.179 +03:00 [DBG] Connection id "0HN53H2S842BB", Request id "0HN53H2S842BB:00000002": started reading request body.
2024-07-14 01:13:01.182 +03:00 [DBG] Connection id "0HN53H2S842BB", Request id "0HN53H2S842BB:00000002": done reading request body.
2024-07-14 01:13:01.184 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:13:01.187 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:13:01.191 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:13:01.198 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:13:01.203 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:13:01.206 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:13:01.207 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:13:01.321 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:13:01.335 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:13:01.338 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:13:01.341 +03:00 [DBG] Created DbConnection. (2ms).
2024-07-14 01:13:01.345 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-07-14 01:13:01.347 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-07-14 01:13:01.349 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.352 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.354 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:13:01.368 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:13:01.373 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.375 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 01:13:01.378 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.380 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:13:01.382 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:13:01.383 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:13:01.558 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:13:01.563 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-14 01:13:01.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-07-14 01:13:01.568 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.570 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.574 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:13:01.593 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:13:01.605 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.612 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 7ms reading results.
2024-07-14 01:13:01.616 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.620 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (3ms).
2024-07-14 01:13:01.684 +03:00 [DBG] 'AppDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:13:01.707 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:13:01.717 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-07-14 01:13:01.722 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-07-14 01:13:01.769 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-07-14 01:13:01.938 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.941 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.950 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:13:01.951 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:13:01.956 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 01:13:01.961 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:13:01.974 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:13:01.987 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.989 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 6ms reading results.
2024-07-14 01:13:01.997 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:01.999 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:13:02.014 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:13:02.019 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-07-14 01:13:02.052 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<Guid>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-07-14 01:13:02.130 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<Guid>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<Guid>.ClaimType (string), 1], [Property: IdentityUserClaim<Guid>.ClaimValue (string), 2], [Property: IdentityUserClaim<Guid>.UserId (Guid) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:13:02.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:13:02.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:13:02.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:13:02.141 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.145 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.147 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:13:02.154 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:13:02.163 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.165 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 3ms reading results.
2024-07-14 01:13:02.167 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.169 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 01:13:02.189 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<ApplicationRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-07-14 01:13:02.211 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:13:02.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:13:02.218 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:13:02.219 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:13:02.222 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.223 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.225 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:13:02.234 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:13:02.238 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.240 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 01:13:02.244 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:02.246 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 01:13:02.264 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-14 01:13:03.378 +03:00 [DBG] Connection id "0HN53H2S842BF" received FIN.
2024-07-14 01:13:03.403 +03:00 [DBG] Connection id "0HN53H2S842BF" is closed. The last processed stream ID was 7.
2024-07-14 01:13:03.404 +03:00 [DBG] The connection queue processing loop for 0HN53H2S842BF completed.
2024-07-14 01:13:03.407 +03:00 [DBG] Connection id "0HN53H2S842BF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:13:03.421 +03:00 [DBG] Connection id "0HN53H2S842BF" stopped.
2024-07-14 01:13:13.461 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 12319.7303ms
2024-07-14 01:13:13.467 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:13:13.469 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR2P264CA0067.FRAP264.PROD.OUTLOOK.COM 2024-07-13T22:13:14.638Z 08DCA349DF47284B]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 01:13:13.488 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR2P264CA0067.FRAP264.PROD.OUTLOOK.COM 2024-07-13T22:13:14.638Z 08DCA349DF47284B]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 01:13:13.510 +03:00 [DBG] Connection id "0HN53H2S842BB" completed keep alive response.
2024-07-14 01:13:13.513 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:13:13.515 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:13:13.517 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-14 01:13:13.520 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 500 - text/plain;+charset=utf-8 12420.5574ms
2024-07-14 01:15:24.558 +03:00 [DBG] Connection id "0HN53H2S842BB" disconnecting.
2024-07-14 01:15:24.565 +03:00 [DBG] Connection id "0HN53H2S842BB" stopped.
2024-07-14 01:15:24.570 +03:00 [DBG] Connection id "0HN53H2S842BB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:27:42.354 +03:00 [DBG] debug-messages
2024-07-14 01:27:42.400 +03:00 [INF] Information-messages
2024-07-14 01:27:42.402 +03:00 [WRN] warning-messages
2024-07-14 01:27:42.403 +03:00 [ERR] error-messages
2024-07-14 01:27:42.404 +03:00 [FTL] critical-messages
2024-07-14 01:27:42.466 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 01:27:42.542 +03:00 [DBG] Hosting starting
2024-07-14 01:27:42.571 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 01:27:42.578 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 01:27:42.588 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 01:27:42.590 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 01:27:42.592 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 01:27:42.594 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 01:27:42.603 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 01:27:42.610 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 01:27:42.612 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 01:27:42.615 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 01:27:42.617 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 01:27:42.630 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 01:27:42.637 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:27:42.642 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 01:27:42.646 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:27:42.654 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 01:27:42.664 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 01:27:42.672 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 01:27:42.674 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 01:27:42.821 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 01:27:42.824 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 01:27:42.826 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 01:27:42.827 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 01:27:42.829 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 01:27:42.830 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 01:27:42.832 +03:00 [INF] Hosting environment: Development
2024-07-14 01:27:42.833 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 01:27:42.835 +03:00 [DBG] Hosting started
2024-07-14 01:27:43.031 +03:00 [DBG] Connection id "0HN53HC1K7821" accepted.
2024-07-14 01:27:43.034 +03:00 [DBG] Connection id "0HN53HC1K7821" started.
2024-07-14 01:27:43.038 +03:00 [DBG] Connection id "0HN53HC1K7822" accepted.
2024-07-14 01:27:43.043 +03:00 [DBG] Connection id "0HN53HC1K7822" started.
2024-07-14 01:27:43.061 +03:00 [DBG] Connection id "0HN53HC1K7821" received FIN.
2024-07-14 01:27:43.062 +03:00 [DBG] Connection id "0HN53HC1K7822" received FIN.
2024-07-14 01:27:43.074 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:27:43.074 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:27:43.097 +03:00 [DBG] Connection id "0HN53HC1K7821" stopped.
2024-07-14 01:27:43.097 +03:00 [DBG] Connection id "0HN53HC1K7822" stopped.
2024-07-14 01:27:43.107 +03:00 [DBG] Connection id "0HN53HC1K7821" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:27:43.107 +03:00 [DBG] Connection id "0HN53HC1K7822" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:27:43.124 +03:00 [DBG] Connection id "0HN53HC1K7823" accepted.
2024-07-14 01:27:43.126 +03:00 [DBG] Connection id "0HN53HC1K7823" started.
2024-07-14 01:27:43.199 +03:00 [DBG] Connection 0HN53HC1K7823 established using the following protocol: "Tls12"
2024-07-14 01:27:43.278 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:27:43.379 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 01:27:43.414 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:27:43.417 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:27:43.559 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:27:43.591 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:27:43.597 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 322.0813ms
2024-07-14 01:27:43.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:27:43.621 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:27:43.631 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.0298ms
2024-07-14 01:27:43.675 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.3510ms
2024-07-14 01:27:43.925 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:27:43.927 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:27:43.928 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:27:44.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 250.4883ms
2024-07-14 01:27:46.270 +03:00 [DBG] Connection id "0HN53HC1K7824" accepted.
2024-07-14 01:27:46.271 +03:00 [DBG] Connection id "0HN53HC1K7824" received FIN.
2024-07-14 01:27:46.273 +03:00 [DBG] Connection id "0HN53HC1K7825" accepted.
2024-07-14 01:27:46.273 +03:00 [DBG] Connection id "0HN53HC1K7824" started.
2024-07-14 01:27:46.276 +03:00 [DBG] Connection id "0HN53HC1K7825" started.
2024-07-14 01:27:46.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:27:46.284 +03:00 [DBG] Connection id "0HN53HC1K7824" stopped.
2024-07-14 01:27:46.286 +03:00 [DBG] Connection id "0HN53HC1K7824" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:27:46.288 +03:00 [DBG] Connection 0HN53HC1K7825 established using the following protocol: "Tls12"
2024-07-14 01:27:46.301 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:27:46.310 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:27:46.318 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:27:46.322 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:27:46.327 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:27:46.344 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:27:46.354 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:27:46.413 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:27:46.420 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:27:46.423 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:27:46.426 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:27:46.429 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:27:46.431 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:27:46.438 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:27:46.695 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 01:27:46.866 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:27:46.879 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:27:46.884 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:27:46.889 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:27:46.912 +03:00 [DBG] Connection id "0HN53HC1K7825", Request id "0HN53HC1K7825:00000001": started reading request body.
2024-07-14 01:27:46.914 +03:00 [DBG] Connection id "0HN53HC1K7825", Request id "0HN53HC1K7825:00000001": done reading request body.
2024-07-14 01:27:46.930 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:27:46.932 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:27:46.934 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:27:46.938 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:27:46.963 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:27:46.972 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:27:46.973 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:27:47.630 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 01:27:47.633 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 01:27:47.639 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 01:27:47.827 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:27:47.830 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:27:48.076 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:27:48.149 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 01:27:48.415 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 01:27:48.475 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:27:48.479 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:27:48.503 +03:00 [DBG] Created DbConnection. (20ms).
2024-07-14 01:27:48.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2024-07-14 01:27:48.529 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (55ms).
2024-07-14 01:27:48.534 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:27:48.714 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:27:48.729 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:27:48.783 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:27:48.805 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:27:48.821 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 23ms reading results.
2024-07-14 01:27:48.827 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:27:48.845 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (18ms).
2024-07-14 01:27:48.848 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:27:48.849 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:27:49.749 +03:00 [DBG] Connection id "0HN53HC1K7823" received FIN.
2024-07-14 01:27:49.761 +03:00 [DBG] The connection queue processing loop for 0HN53HC1K7823 completed.
2024-07-14 01:27:49.761 +03:00 [DBG] Connection id "0HN53HC1K7823" is closed. The last processed stream ID was 7.
2024-07-14 01:27:49.778 +03:00 [DBG] Connection id "0HN53HC1K7823" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:27:49.795 +03:00 [DBG] Connection id "0HN53HC1K7823" stopped.
2024-07-14 01:27:51.188 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 4748.3583ms
2024-07-14 01:27:51.191 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:27:51.195 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 01:27:51.225 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 01:27:51.255 +03:00 [DBG] Connection id "0HN53HC1K7825" completed keep alive response.
2024-07-14 01:27:51.268 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:27:51.297 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:27:51.306 +03:00 [DBG] Disposed connection to database '' on server '' (9ms).
2024-07-14 01:27:51.311 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 500 - text/plain;+charset=utf-8 5010.0744ms
2024-07-14 01:28:52.487 +03:00 [DBG] debug-messages
2024-07-14 01:28:52.530 +03:00 [INF] Information-messages
2024-07-14 01:28:52.532 +03:00 [WRN] warning-messages
2024-07-14 01:28:52.533 +03:00 [ERR] error-messages
2024-07-14 01:28:52.534 +03:00 [FTL] critical-messages
2024-07-14 01:28:52.604 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 01:28:52.771 +03:00 [DBG] Hosting starting
2024-07-14 01:28:52.828 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 01:28:52.835 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 01:28:52.842 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 01:28:52.843 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 01:28:52.845 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 01:28:52.847 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 01:28:52.855 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 01:28:52.863 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 01:28:52.865 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 01:28:52.867 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 01:28:52.869 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 01:28:52.876 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 01:28:52.883 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:28:52.889 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 01:28:52.892 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:28:52.901 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 01:28:52.909 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 01:28:52.917 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 01:28:52.920 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 01:28:53.185 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 01:28:53.212 +03:00 [DBG] Connection id "0HN53HCMHGN5N" accepted.
2024-07-14 01:28:53.216 +03:00 [DBG] Connection id "0HN53HCMHGN5N" received FIN.
2024-07-14 01:28:53.221 +03:00 [DBG] Connection id "0HN53HCMHGN5O" received FIN.
2024-07-14 01:28:53.306 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 01:28:53.309 +03:00 [DBG] Connection id "0HN53HCMHGN5N" started.
2024-07-14 01:28:53.311 +03:00 [DBG] Connection id "0HN53HCMHGN5O" accepted.
2024-07-14 01:28:53.312 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 01:28:53.316 +03:00 [DBG] Connection id "0HN53HCMHGN5O" started.
2024-07-14 01:28:53.318 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 01:28:53.321 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 01:28:53.323 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 01:28:53.336 +03:00 [INF] Hosting environment: Development
2024-07-14 01:28:53.338 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:28:53.340 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 01:28:53.338 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:28:53.360 +03:00 [DBG] Connection id "0HN53HCMHGN5P" accepted.
2024-07-14 01:28:53.360 +03:00 [DBG] Hosting started
2024-07-14 01:28:53.364 +03:00 [DBG] Connection id "0HN53HCMHGN5O" stopped.
2024-07-14 01:28:53.364 +03:00 [DBG] Connection id "0HN53HCMHGN5N" stopped.
2024-07-14 01:28:53.366 +03:00 [DBG] Connection id "0HN53HCMHGN5P" started.
2024-07-14 01:28:53.374 +03:00 [DBG] Connection id "0HN53HCMHGN5N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:28:53.374 +03:00 [DBG] Connection id "0HN53HCMHGN5O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:28:53.465 +03:00 [DBG] Connection 0HN53HCMHGN5P established using the following protocol: "Tls12"
2024-07-14 01:28:53.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:28:53.783 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 01:28:53.827 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:28:53.835 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:28:54.010 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:28:54.042 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:28:54.053 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 424.9165ms
2024-07-14 01:28:54.072 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:28:54.082 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:28:54.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 13.3525ms
2024-07-14 01:28:54.128 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.8401ms
2024-07-14 01:28:54.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:28:54.442 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:28:54.445 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:28:54.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 316.5919ms
2024-07-14 01:28:59.872 +03:00 [DBG] Connection id "0HN53HCMHGN5P" received FIN.
2024-07-14 01:28:59.892 +03:00 [DBG] Connection id "0HN53HCMHGN5P" is closed. The last processed stream ID was 7.
2024-07-14 01:28:59.895 +03:00 [DBG] The connection queue processing loop for 0HN53HCMHGN5P completed.
2024-07-14 01:28:59.901 +03:00 [DBG] Connection id "0HN53HCMHGN5P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:28:59.907 +03:00 [DBG] Connection id "0HN53HCMHGN5P" stopped.
2024-07-14 01:29:00.042 +03:00 [DBG] Connection id "0HN53HCMHGN5Q" accepted.
2024-07-14 01:29:00.045 +03:00 [DBG] Connection id "0HN53HCMHGN5Q" received FIN.
2024-07-14 01:29:00.047 +03:00 [DBG] Connection id "0HN53HCMHGN5R" accepted.
2024-07-14 01:29:00.047 +03:00 [DBG] Connection id "0HN53HCMHGN5Q" started.
2024-07-14 01:29:00.053 +03:00 [DBG] Connection id "0HN53HCMHGN5R" started.
2024-07-14 01:29:00.055 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:29:00.061 +03:00 [DBG] Connection id "0HN53HCMHGN5Q" stopped.
2024-07-14 01:29:00.063 +03:00 [DBG] Connection id "0HN53HCMHGN5Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:29:00.067 +03:00 [DBG] Connection 0HN53HCMHGN5R established using the following protocol: "Tls12"
2024-07-14 01:29:00.089 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:29:00.101 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:29:00.109 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:29:00.113 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:29:00.126 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:29:00.150 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:29:00.158 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:29:00.225 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:29:00.233 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:29:00.238 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:29:00.240 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:29:00.244 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:29:00.247 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:29:00.254 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:29:00.469 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 01:29:00.509 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:29:00.519 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:29:00.526 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:29:00.530 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:29:00.553 +03:00 [DBG] Connection id "0HN53HCMHGN5R", Request id "0HN53HCMHGN5R:00000001": started reading request body.
2024-07-14 01:29:00.555 +03:00 [DBG] Connection id "0HN53HCMHGN5R", Request id "0HN53HCMHGN5R:00000001": done reading request body.
2024-07-14 01:29:00.571 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:29:00.574 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:29:00.579 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:29:00.587 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:29:00.617 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:29:00.629 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:29:00.635 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:29:01.471 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 01:29:01.474 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 01:29:01.477 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 01:29:01.679 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:29:01.684 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:29:02.046 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:29:02.153 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 01:29:02.427 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 01:29:02.511 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:29:02.516 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:29:02.542 +03:00 [DBG] Created DbConnection. (24ms).
2024-07-14 01:29:02.553 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-07-14 01:29:02.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (60ms).
2024-07-14 01:29:02.574 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:02.858 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:02.873 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:29:02.913 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:29:02.930 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:02.944 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 17ms reading results.
2024-07-14 01:29:02.951 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:02.958 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (7ms).
2024-07-14 01:29:02.961 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:29:02.962 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:29:04.685 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-07-14 01:29:04.760 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 01:29:04.789 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:29:04.791 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 01:29:04.793 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-14 01:29:04.800 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:04.805 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:04.808 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:29:04.833 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:29:04.857 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:04.859 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 20ms reading results.
2024-07-14 01:29:04.865 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:04.871 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (6ms).
2024-07-14 01:29:04.937 +03:00 [DBG] 'AppDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:29:05.192 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:29:05.207 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-07-14 01:29:05.213 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-07-14 01:29:05.262 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-07-14 01:29:05.421 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.425 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.435 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:29:05.438 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:29:05.445 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-07-14 01:29:05.452 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:29:05.486 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:29:05.497 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.502 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 9ms reading results.
2024-07-14 01:29:05.506 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.508 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:29:05.530 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:29:05.539 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-07-14 01:29:05.575 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<Guid>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-07-14 01:29:05.650 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<Guid>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<Guid>.ClaimType (string), 1], [Property: IdentityUserClaim<Guid>.ClaimValue (string), 2], [Property: IdentityUserClaim<Guid>.UserId (Guid) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:29:05.660 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:29:05.662 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 01:29:05.667 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 01:29:05.671 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.674 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.677 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:29:05.707 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:29:05.721 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.724 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 4ms reading results.
2024-07-14 01:29:05.726 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.728 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:29:05.753 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<ApplicationRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-07-14 01:29:05.785 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:29:05.792 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:29:05.794 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:29:05.795 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:29:05.799 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.802 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.804 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:29:05.812 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:29:05.818 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.820 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 01:29:05.823 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.825 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:29:05.844 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-14 01:29:05.854 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 01:29:05.860 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 01:29:05.861 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-14 01:29:05.863 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-14 01:29:05.868 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-14 01:29:05.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:29:05.892 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 5635.4316ms
2024-07-14 01:29:05.896 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:29:05.900 +03:00 [DBG] Connection id "0HN53HCMHGN5R" completed keep alive response.
2024-07-14 01:29:05.918 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:29:05.938 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:29:05.945 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-07-14 01:29:05.969 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 200 - application/json;+charset=utf-8 5879.4271ms
2024-07-14 01:31:16.767 +03:00 [DBG] Connection id "0HN53HCMHGN5R" disconnecting.
2024-07-14 01:31:17.055 +03:00 [DBG] Connection id "0HN53HCMHGN5R" stopped.
2024-07-14 01:31:17.056 +03:00 [DBG] Connection id "0HN53HCMHGN5R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:31:52.942 +03:00 [DBG] Connection id "0HN53HCMHGN5S" received FIN.
2024-07-14 01:31:52.945 +03:00 [DBG] Connection id "0HN53HCMHGN5S" accepted.
2024-07-14 01:31:52.947 +03:00 [DBG] Connection id "0HN53HCMHGN5S" started.
2024-07-14 01:31:52.949 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:31:52.960 +03:00 [DBG] Connection id "0HN53HCMHGN5S" stopped.
2024-07-14 01:31:52.962 +03:00 [DBG] Connection id "0HN53HCMHGN5S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:31:53.176 +03:00 [DBG] Connection id "0HN53HCMHGN5T" accepted.
2024-07-14 01:31:53.209 +03:00 [DBG] Connection id "0HN53HCMHGN5T" started.
2024-07-14 01:31:53.221 +03:00 [DBG] Connection 0HN53HCMHGN5T established using the following protocol: "Tls12"
2024-07-14 01:31:53.244 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:31:53.331 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:31:53.333 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:31:53.336 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:31:53.339 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:31:53.345 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 100.8639ms
2024-07-14 01:31:53.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:31:53.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 8.3146ms
2024-07-14 01:31:53.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:31:53.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.1496ms
2024-07-14 01:31:53.970 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:31:53.971 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:31:53.977 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:31:54.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 38.5747ms
2024-07-14 01:32:00.135 +03:00 [DBG] Connection id "0HN53HCMHGN5U" accepted.
2024-07-14 01:32:00.136 +03:00 [DBG] Connection id "0HN53HCMHGN5U" received FIN.
2024-07-14 01:32:00.137 +03:00 [DBG] Connection id "0HN53HCMHGN5V" accepted.
2024-07-14 01:32:00.141 +03:00 [DBG] Connection id "0HN53HCMHGN5V" started.
2024-07-14 01:32:00.137 +03:00 [DBG] Connection id "0HN53HCMHGN5U" started.
2024-07-14 01:32:00.145 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:32:00.147 +03:00 [DBG] Connection id "0HN53HCMHGN5T" received FIN.
2024-07-14 01:32:00.147 +03:00 [DBG] Connection 0HN53HCMHGN5V established using the following protocol: "Tls12"
2024-07-14 01:32:00.151 +03:00 [DBG] Connection id "0HN53HCMHGN5U" stopped.
2024-07-14 01:32:00.152 +03:00 [DBG] Connection id "0HN53HCMHGN5T" is closed. The last processed stream ID was 7.
2024-07-14 01:32:00.152 +03:00 [DBG] Connection id "0HN53HCMHGN5T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:32:00.155 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:32:00.156 +03:00 [DBG] Connection id "0HN53HCMHGN5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:32:00.161 +03:00 [DBG] The connection queue processing loop for 0HN53HCMHGN5T completed.
2024-07-14 01:32:00.165 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:32:00.166 +03:00 [DBG] Connection id "0HN53HCMHGN5T" stopped.
2024-07-14 01:32:00.168 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:32:00.172 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:32:00.175 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:32:00.182 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:32:00.184 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:32:00.187 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:32:00.191 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:32:00.193 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:32:00.196 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:32:00.199 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:32:00.201 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:32:00.204 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:32:00.213 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:32:00.216 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:32:00.219 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:32:00.222 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:32:00.225 +03:00 [DBG] Connection id "0HN53HCMHGN5V", Request id "0HN53HCMHGN5V:00000001": started reading request body.
2024-07-14 01:32:00.228 +03:00 [DBG] Connection id "0HN53HCMHGN5V", Request id "0HN53HCMHGN5V:00000001": done reading request body.
2024-07-14 01:32:00.230 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:32:00.232 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:32:00.234 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:32:00.236 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:32:00.242 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:32:00.245 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:32:00.246 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:32:00.372 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:32:00.384 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:32:00.386 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:32:00.388 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-14 01:32:00.391 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-07-14 01:32:00.394 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-14 01:32:00.396 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:00.398 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:00.400 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:32:00.412 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:32:00.417 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:00.418 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 01:32:00.421 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:00.423 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:32:00.425 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:32:00.427 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:32:01.795 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:32:01.797 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 01:32:01.799 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:32:01.801 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:01.803 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:01.805 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:32:01.818 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:32:01.851 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:32:01.854 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:01.858 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 35ms reading results.
2024-07-14 01:32:01.860 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:01.862 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 01:32:01.875 +03:00 [DBG] User validation failed: DuplicateUserName.
2024-07-14 01:32:01.880 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1676.3169ms
2024-07-14 01:32:01.893 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:32:01.897 +03:00 [ERR] An error occurred.
System.Exception: Username 'zezosharkawy@yahoo.com' is already taken.
   at SocialMedia.Services.Services.UserService.AddAsync(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 49
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 01:32:01.954 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Username 'zezosharkawy@yahoo.com' is already taken.
   at SocialMedia.Services.Services.UserService.AddAsync(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 49
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 01:32:01.984 +03:00 [DBG] Connection id "0HN53HCMHGN5V" completed keep alive response.
2024-07-14 01:32:01.986 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:32:01.988 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:32:01.992 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-14 01:32:01.995 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 500 - text/plain;+charset=utf-8 1840.6381ms
2024-07-14 01:37:54.629 +03:00 [DBG] debug-messages
2024-07-14 01:37:54.703 +03:00 [INF] Information-messages
2024-07-14 01:37:54.705 +03:00 [WRN] warning-messages
2024-07-14 01:37:54.707 +03:00 [ERR] error-messages
2024-07-14 01:37:54.708 +03:00 [FTL] critical-messages
2024-07-14 01:37:54.845 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 01:37:55.063 +03:00 [DBG] Hosting starting
2024-07-14 01:37:55.106 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 01:37:55.113 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 01:37:55.142 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 01:37:55.146 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 01:37:55.149 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 01:37:55.152 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 01:37:55.165 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 01:37:55.178 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 01:37:55.181 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 01:37:55.183 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 01:37:55.185 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 01:37:55.197 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 01:37:55.204 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:37:55.211 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 01:37:55.216 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 01:37:55.226 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 01:37:55.235 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 01:37:55.244 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 01:37:55.247 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 01:37:55.560 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 01:37:55.564 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 01:37:55.565 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 01:37:55.567 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 01:37:55.569 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 01:37:55.572 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 01:37:55.574 +03:00 [INF] Hosting environment: Development
2024-07-14 01:37:55.576 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 01:37:55.577 +03:00 [DBG] Hosting started
2024-07-14 01:37:55.802 +03:00 [DBG] Connection id "0HN53HHO820OC" accepted.
2024-07-14 01:37:55.802 +03:00 [DBG] Connection id "0HN53HHO820OB" accepted.
2024-07-14 01:37:55.806 +03:00 [DBG] Connection id "0HN53HHO820OB" started.
2024-07-14 01:37:55.806 +03:00 [DBG] Connection id "0HN53HHO820OC" started.
2024-07-14 01:37:55.809 +03:00 [DBG] Connection id "0HN53HHO820OB" received FIN.
2024-07-14 01:37:55.809 +03:00 [DBG] Connection id "0HN53HHO820OC" received FIN.
2024-07-14 01:37:55.830 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:37:55.830 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:37:55.860 +03:00 [DBG] Connection id "0HN53HHO820OB" stopped.
2024-07-14 01:37:55.860 +03:00 [DBG] Connection id "0HN53HHO820OC" stopped.
2024-07-14 01:37:55.865 +03:00 [DBG] Connection id "0HN53HHO820OC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:37:55.865 +03:00 [DBG] Connection id "0HN53HHO820OB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:37:56.230 +03:00 [DBG] Connection id "0HN53HHO820OD" accepted.
2024-07-14 01:37:56.246 +03:00 [DBG] Connection id "0HN53HHO820OD" started.
2024-07-14 01:37:56.319 +03:00 [DBG] Connection 0HN53HHO820OD established using the following protocol: "Tls12"
2024-07-14 01:37:56.428 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 01:37:56.629 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 01:37:56.682 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 01:37:56.685 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:37:56.924 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 01:37:56.962 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 01:37:56.975 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 552.7929ms
2024-07-14 01:37:56.991 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 01:37:57.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.2785ms
2024-07-14 01:37:57.018 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 01:37:57.209 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 190.7049ms
2024-07-14 01:37:57.483 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 01:37:57.747 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 01:37:57.750 +03:00 [DBG] Request did not match any endpoints
2024-07-14 01:37:58.400 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 916.9827ms
2024-07-14 01:38:03.694 +03:00 [DBG] Connection id "0HN53HHO820OE" accepted.
2024-07-14 01:38:03.698 +03:00 [DBG] Connection id "0HN53HHO820OE" received FIN.
2024-07-14 01:38:03.704 +03:00 [DBG] Connection id "0HN53HHO820OF" accepted.
2024-07-14 01:38:03.704 +03:00 [DBG] Connection id "0HN53HHO820OE" started.
2024-07-14 01:38:03.708 +03:00 [DBG] Connection id "0HN53HHO820OF" started.
2024-07-14 01:38:03.710 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 01:38:03.718 +03:00 [DBG] Connection id "0HN53HHO820OE" stopped.
2024-07-14 01:38:03.719 +03:00 [DBG] Connection id "0HN53HHO820OE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:38:03.725 +03:00 [DBG] Connection 0HN53HHO820OF established using the following protocol: "Tls12"
2024-07-14 01:38:03.747 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 01:38:03.756 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 01:38:03.764 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 01:38:03.768 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:38:03.772 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 01:38:03.801 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 01:38:03.808 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:38:03.886 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 01:38:03.892 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 01:38:03.894 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 01:38:03.897 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 01:38:03.900 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 01:38:03.902 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 01:38:03.908 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:38:04.439 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 01:38:04.527 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 01:38:04.542 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:38:04.548 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 01:38:04.555 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 01:38:04.582 +03:00 [DBG] Connection id "0HN53HHO820OF", Request id "0HN53HHO820OF:00000001": started reading request body.
2024-07-14 01:38:04.583 +03:00 [DBG] Connection id "0HN53HHO820OF", Request id "0HN53HHO820OF:00000001": done reading request body.
2024-07-14 01:38:04.598 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 01:38:04.600 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:38:04.601 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:38:04.603 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 01:38:04.642 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:38:04.673 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 01:38:04.675 +03:00 [DBG] Is zezosharkawy@yahoo.com Already Exist?
2024-07-14 01:38:05.746 +03:00 [DBG] Connection id "0HN53HHO820OD" received FIN.
2024-07-14 01:38:05.764 +03:00 [DBG] Connection id "0HN53HHO820OD" is closed. The last processed stream ID was 7.
2024-07-14 01:38:05.767 +03:00 [DBG] The connection queue processing loop for 0HN53HHO820OD completed.
2024-07-14 01:38:05.811 +03:00 [DBG] Connection id "0HN53HHO820OD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 01:38:05.817 +03:00 [DBG] Connection id "0HN53HHO820OD" stopped.
2024-07-14 01:38:05.850 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 01:38:05.853 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 01:38:05.858 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 01:38:06.091 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:38:06.095 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 01:38:06.517 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 01:38:06.747 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 01:38:07.180 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 01:38:07.270 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:38:07.275 +03:00 [DBG] Creating DbConnection.
2024-07-14 01:38:07.365 +03:00 [DBG] Created DbConnection. (87ms).
2024-07-14 01:38:07.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (120ms).
2024-07-14 01:38:07.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (142ms).
2024-07-14 01:38:07.401 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:07.877 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:07.889 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:38:07.955 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 01:38:07.972 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:07.984 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 17ms reading results.
2024-07-14 01:38:07.989 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:08.000 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (10ms).
2024-07-14 01:38:08.002 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 01:38:08.003 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 01:38:10.808 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-07-14 01:38:10.893 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 01:38:10.928 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:38:10.931 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 01:38:10.932 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-14 01:38:10.937 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:10.943 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:10.946 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:38:10.975 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 01:38:10.991 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:10.994 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 13ms reading results.
2024-07-14 01:38:10.999 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.001 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:38:11.043 +03:00 [DBG] 'AppDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:38:11.288 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:38:11.300 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-07-14 01:38:11.308 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-07-14 01:38:11.344 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-07-14 01:38:11.482 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.485 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.492 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:38:11.494 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:38:11.498 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 01:38:11.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:38:11.557 +03:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 01:38:11.566 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.568 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 5ms reading results.
2024-07-14 01:38:11.574 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.576 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 01:38:11.595 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 01:38:11.600 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-07-14 01:38:11.650 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<Guid>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-07-14 01:38:11.738 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<Guid>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<Guid>.ClaimType (string), 1], [Property: IdentityUserClaim<Guid>.ClaimValue (string), 2], [Property: IdentityUserClaim<Guid>.UserId (Guid) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:38:11.747 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:38:11.749 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:38:11.751 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-14 01:38:11.754 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.757 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.759 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:38:11.766 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 01:38:11.775 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.777 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 5ms reading results.
2024-07-14 01:38:11.780 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.782 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 01:38:11.801 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<ApplicationRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-07-14 01:38:11.820 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 01:38:11.828 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 01:38:11.830 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 01:38:11.831 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 01:38:11.833 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.835 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.837 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:38:11.848 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 01:38:11.852 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.854 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 01:38:11.859 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:11.860 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 01:38:11.877 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-14 01:38:11.885 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 01:38:11.892 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 01:38:11.894 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-14 01:38:11.895 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-14 01:38:11.898 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-14 01:38:11.901 +03:00 [INF] Executing OkObjectResult, writing value of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 01:38:11.945 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 8033.494ms
2024-07-14 01:38:11.974 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 01:38:12.042 +03:00 [DBG] Connection id "0HN53HHO820OF" completed keep alive response.
2024-07-14 01:38:12.050 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 01:38:12.059 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 01:38:12.119 +03:00 [DBG] Disposed connection to database '' on server '' (59ms).
2024-07-14 01:38:12.122 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 200 - application/json;+charset=utf-8 8374.1622ms
2024-07-14 01:40:22.937 +03:00 [DBG] Connection id "0HN53HHO820OF" disconnecting.
2024-07-14 01:40:22.939 +03:00 [DBG] Connection id "0HN53HHO820OF" stopped.
2024-07-14 01:40:22.941 +03:00 [DBG] Connection id "0HN53HHO820OF" sending FIN because: "The Socket transport's send loop completed gracefully."
