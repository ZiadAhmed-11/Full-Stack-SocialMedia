2024-07-14 04:14:49.460 +03:00 [DBG] debug-messages
2024-07-14 04:14:49.549 +03:00 [INF] Information-messages
2024-07-14 04:14:49.551 +03:00 [WRN] warning-messages
2024-07-14 04:14:49.552 +03:00 [ERR] error-messages
2024-07-14 04:14:49.553 +03:00 [FTL] critical-messages
2024-07-14 04:14:49.659 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:14:49.835 +03:00 [DBG] Hosting starting
2024-07-14 04:14:49.892 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:14:49.903 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:14:49.934 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:14:49.937 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:14:49.941 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:14:49.943 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:14:49.957 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:14:49.976 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:14:49.979 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:14:49.982 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:14:49.984 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:14:50.001 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:14:50.016 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:14:50.024 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:14:50.029 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:14:50.043 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:14:50.056 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:14:50.066 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:14:50.068 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:14:50.392 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:14:50.401 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:14:50.403 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:14:50.405 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:14:50.407 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:14:50.409 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:14:50.410 +03:00 [INF] Hosting environment: Development
2024-07-14 04:14:50.412 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:14:50.414 +03:00 [DBG] Hosting started
2024-07-14 04:14:50.520 +03:00 [DBG] Connection id "0HN53K9E1PS29" accepted.
2024-07-14 04:14:50.520 +03:00 [DBG] Connection id "0HN53K9E1PS2A" accepted.
2024-07-14 04:14:50.524 +03:00 [DBG] Connection id "0HN53K9E1PS29" started.
2024-07-14 04:14:50.524 +03:00 [DBG] Connection id "0HN53K9E1PS2A" started.
2024-07-14 04:14:50.556 +03:00 [DBG] Connection id "0HN53K9E1PS2A" received FIN.
2024-07-14 04:14:50.562 +03:00 [DBG] Connection id "0HN53K9E1PS29" received FIN.
2024-07-14 04:14:50.578 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:14:50.578 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:14:50.611 +03:00 [DBG] Connection id "0HN53K9E1PS29" stopped.
2024-07-14 04:14:50.611 +03:00 [DBG] Connection id "0HN53K9E1PS2A" stopped.
2024-07-14 04:14:50.618 +03:00 [DBG] Connection id "0HN53K9E1PS2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:14:50.618 +03:00 [DBG] Connection id "0HN53K9E1PS29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:14:51.084 +03:00 [DBG] Connection id "0HN53K9E1PS2B" accepted.
2024-07-14 04:14:51.099 +03:00 [DBG] Connection id "0HN53K9E1PS2B" started.
2024-07-14 04:14:51.199 +03:00 [DBG] Connection 0HN53K9E1PS2B established using the following protocol: "Tls12"
2024-07-14 04:14:51.315 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:14:51.528 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:14:51.580 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:14:51.583 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:14:51.824 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:14:51.867 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:14:51.872 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 562.6971ms
2024-07-14 04:14:51.893 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:14:51.917 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 24.1132ms
2024-07-14 04:14:51.932 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:14:52.059 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 126.0603ms
2024-07-14 04:14:52.301 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:14:52.303 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:14:52.305 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:14:52.670 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 369.2414ms
2024-07-14 04:15:05.330 +03:00 [DBG] Connection id "0HN53K9E1PS2C" accepted.
2024-07-14 04:15:05.332 +03:00 [DBG] Connection id "0HN53K9E1PS2C" started.
2024-07-14 04:15:05.333 +03:00 [DBG] Connection id "0HN53K9E1PS2D" accepted.
2024-07-14 04:15:05.333 +03:00 [DBG] Connection id "0HN53K9E1PS2C" received FIN.
2024-07-14 04:15:05.335 +03:00 [DBG] Connection id "0HN53K9E1PS2D" started.
2024-07-14 04:15:05.337 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:15:05.344 +03:00 [DBG] Connection id "0HN53K9E1PS2C" stopped.
2024-07-14 04:15:05.346 +03:00 [DBG] Connection id "0HN53K9E1PS2C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:15:05.348 +03:00 [DBG] Connection 0HN53K9E1PS2D established using the following protocol: "Tls12"
2024-07-14 04:15:05.363 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 255
2024-07-14 04:15:05.371 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:15:05.379 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:15:05.382 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:05.387 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:15:05.401 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 04:15:05.407 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:05.457 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:15:05.462 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:15:05.465 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:15:05.467 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:15:05.472 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:15:05.475 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:15:05.480 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:15:05.982 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:15:06.070 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:15:06.087 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:15:06.093 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:15:06.097 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:15:06.120 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000001": started reading request body.
2024-07-14 04:15:06.124 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000001": done reading request body.
2024-07-14 04:15:06.135 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:15:06.137 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:06.140 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:06.142 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:15:06.164 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:06.170 +03:00 [DBG] The request has model state errors, returning an error response.
2024-07-14 04:15:06.174 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-14 04:15:06.179 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 04:15:06.185 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 04:15:06.186 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-14 04:15:06.193 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-14 04:15:06.196 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-14 04:15:06.211 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 728.3048ms
2024-07-14 04:15:06.214 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:06.216 +03:00 [DBG] Connection id "0HN53K9E1PS2D" completed keep alive response.
2024-07-14 04:15:06.224 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 255 - 400 - application/problem+json;+charset=utf-8 861.1606ms
2024-07-14 04:15:27.671 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264
2024-07-14 04:15:27.675 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:15:27.679 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:15:27.682 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:27.683 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:15:27.687 +03:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2024-07-14 04:15:27.690 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:27.694 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:15:27.697 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:15:27.699 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:15:27.702 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:15:27.706 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:15:27.709 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:15:27.711 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:15:27.726 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:15:27.728 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:15:27.733 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:15:27.735 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:15:27.739 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000002": started reading request body.
2024-07-14 04:15:27.742 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000002": done reading request body.
2024-07-14 04:15:27.744 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:15:27.745 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:27.747 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:27.749 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:15:27.752 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:27.782 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:15:27.785 +03:00 [DBG] Is zezosharkawy@yhaoo.com Already Exist?
2024-07-14 04:15:28.529 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:15:28.532 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:15:28.534 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:15:28.707 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:15:28.710 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:15:28.970 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:15:29.145 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email == __ToLower_0)'
2024-07-14 04:15:29.422 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.Email == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:15:29.481 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:15:29.487 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:15:29.576 +03:00 [DBG] Created DbConnection. (86ms).
2024-07-14 04:15:29.590 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (117ms).
2024-07-14 04:15:29.610 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (142ms).
2024-07-14 04:15:29.616 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:29.929 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:29.941 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:15:29.998 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:15:30.013 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:30.024 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 14ms reading results.
2024-07-14 04:15:30.030 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:30.038 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (6ms).
2024-07-14 04:15:30.042 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:15:30.043 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:15:31.394 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-07-14 04:15:31.458 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:15:31.493 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:15:31.497 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-14 04:15:31.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 04:15:31.505 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.512 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.516 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 04:15:31.541 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 04:15:31.558 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.563 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 15ms reading results.
2024-07-14 04:15:31.567 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.570 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:15:31.614 +03:00 [DBG] 'AppDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:15:31.763 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:15:31.773 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-07-14 04:15:31.777 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-07-14 04:15:31.806 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-07-14 04:15:31.884 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.889 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.895 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:15:31.898 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 04:15:31.902 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 04:15:31.906 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 04:15:31.925 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 04:15:31.936 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.941 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 8ms reading results.
2024-07-14 04:15:31.948 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:31.949 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 04:15:31.962 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:15:31.969 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-07-14 04:15:32.023 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<Guid>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2024-07-14 04:15:32.062 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Claim>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<Guid>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<Guid>.ClaimType (string), 1], [Property: IdentityUserClaim<Guid>.ClaimValue (string), 2], [Property: IdentityUserClaim<Guid>.UserId (Guid) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Claim>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 04:15:32.070 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:15:32.073 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 04:15:32.076 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-14 04:15:32.077 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.079 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.081 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 04:15:32.087 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 04:15:32.094 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.097 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 4ms reading results.
2024-07-14 04:15:32.100 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.102 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:15:32.116 +03:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<Guid>>()
    .Join(
        inner: DbSet<ApplicationRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-07-14 04:15:32.136 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)'
2024-07-14 04:15:32.144 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:15:32.147 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-14 04:15:32.149 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-14 04:15:32.151 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.154 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.156 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 04:15:32.163 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 04:15:32.168 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.170 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 04:15:32.173 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.175 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 04:15:32.189 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-14 04:15:32.195 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 04:15:32.201 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 04:15:32.202 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-14 04:15:32.204 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-14 04:15:32.206 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-14 04:15:32.209 +03:00 [INF] Executing OkObjectResult, writing value of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:15:32.216 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 4504.78ms
2024-07-14 04:15:32.220 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:15:32.224 +03:00 [DBG] Connection id "0HN53K9E1PS2D" completed keep alive response.
2024-07-14 04:15:32.228 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:15:32.235 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:15:32.241 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-07-14 04:15:32.244 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 264 - 200 - application/json;+charset=utf-8 4573.6149ms
2024-07-14 04:16:31.371 +03:00 [DBG] Connection id "0HN53K9E1PS2B" received FIN.
2024-07-14 04:16:31.435 +03:00 [DBG] Connection id "0HN53K9E1PS2B" is closed. The last processed stream ID was 7.
2024-07-14 04:16:31.435 +03:00 [DBG] The connection queue processing loop for 0HN53K9E1PS2B completed.
2024-07-14 04:16:31.437 +03:00 [DBG] Connection id "0HN53K9E1PS2B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:16:31.442 +03:00 [DBG] Connection id "0HN53K9E1PS2B" stopped.
2024-07-14 04:16:57.530 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:16:57.531 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:16:57.535 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:16:57.539 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:16:57.540 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:16:57.551 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:16:57.553 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:16:57.555 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:16:57.558 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:16:57.560 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:16:57.562 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:16:57.565 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:16:57.569 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:16:57.571 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:16:57.580 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:16:57.581 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:16:57.585 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:16:57.588 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:16:57.590 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000003": started reading request body.
2024-07-14 04:16:57.592 +03:00 [DBG] Connection id "0HN53K9E1PS2D", Request id "0HN53K9E1PS2D:00000003": done reading request body.
2024-07-14 04:16:57.594 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:16:57.596 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:16:57.598 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:16:57.602 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:16:57.604 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:16:57.606 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:16:57.608 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:16:57.719 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:16:57.729 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:16:57.731 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:16:57.734 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-14 04:16:57.736 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-07-14 04:16:57.738 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-14 04:16:57.740 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:57.742 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:57.744 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:16:57.754 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[Email] = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:16:57.758 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:57.759 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 04:16:57.762 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:57.763 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 04:16:57.765 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:16:57.768 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:16:58.997 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:16:59.001 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-14 04:16:59.003 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-14 04:16:59.005 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.007 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.008 +03:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 04:16:59.023 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-07-14 04:16:59.121 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.124 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 3ms reading results.
2024-07-14 04:16:59.128 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.131 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (3ms).
2024-07-14 04:16:59.140 +03:00 [DBG] 'AppDbContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:16:59.146 +03:00 [DBG] Context 'AppDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:16:59.151 +03:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-07-14 04:16:59.153 +03:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-07-14 04:16:59.155 +03:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-07-14 04:16:59.162 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.165 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:16:59.171 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 04:16:59.174 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-14 04:16:59.177 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 04:16:59.230 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (DbType = DateTimeOffset), @p16='?' (Size = 256), @p17='?' (Size = 256), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [Age], [Bio], [BirthDay], [City], [ConcurrencyStamp], [Country], [CoverImageUrl], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfileImageUrl], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2024-07-14 04:16:59.238 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.240 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 1ms reading results.
2024-07-14 04:16:59.242 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.244 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 04:16:59.247 +03:00 [DBG] An entity of type 'User' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-14 04:16:59.252 +03:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-07-14 04:16:59.255 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:16:59.257 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 04:16:59.258 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-14 04:16:59.260 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.262 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.264 +03:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 04:16:59.271 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-07-14 04:16:59.275 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.277 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 1ms reading results.
2024-07-14 04:16:59.279 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.281 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (1ms).
2024-07-14 04:16:59.290 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:16:59.293 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 04:16:59.296 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 04:16:59.302 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.305 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.309 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 04:16:59.322 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-07-14 04:16:59.328 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.331 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 2ms reading results.
2024-07-14 04:16:59.336 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.338 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:16:59.364 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2024-07-14 04:16:59.370 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-07-14 04:16:59.376 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-14 04:16:59.378 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-14 04:16:59.380 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-14 04:16:59.385 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-14 04:16:59.388 +03:00 [INF] Executing OkObjectResult, writing value of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:16:59.397 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1825.8486ms
2024-07-14 04:16:59.437 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:16:59.440 +03:00 [DBG] Connection id "0HN53K9E1PS2D" completed keep alive response.
2024-07-14 04:16:59.444 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:16:59.511 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:16:59.716 +03:00 [DBG] Disposed connection to database '' on server '' (205ms).
2024-07-14 04:16:59.728 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 200 - application/json;+charset=utf-8 2197.9127ms
2024-07-14 04:19:10.493 +03:00 [DBG] Connection id "0HN53K9E1PS2D" disconnecting.
2024-07-14 04:19:10.495 +03:00 [DBG] Connection id "0HN53K9E1PS2D" stopped.
2024-07-14 04:19:10.496 +03:00 [DBG] Connection id "0HN53K9E1PS2D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:20:29.432 +03:00 [DBG] debug-messages
2024-07-14 04:20:29.474 +03:00 [INF] Information-messages
2024-07-14 04:20:29.476 +03:00 [WRN] warning-messages
2024-07-14 04:20:29.477 +03:00 [ERR] error-messages
2024-07-14 04:20:29.478 +03:00 [FTL] critical-messages
2024-07-14 04:20:29.561 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:20:29.640 +03:00 [DBG] Hosting starting
2024-07-14 04:20:29.660 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:20:29.665 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:20:29.673 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:20:29.676 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:20:29.678 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:20:29.680 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:20:29.686 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:20:29.693 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:20:29.695 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:20:29.696 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:20:29.698 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:20:29.707 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:20:29.712 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:20:29.718 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:20:29.721 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:20:29.728 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:20:29.736 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:20:29.746 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:20:29.749 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:20:29.981 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:20:29.983 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:20:29.985 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:20:29.986 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:20:29.988 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:20:29.990 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:20:29.992 +03:00 [INF] Hosting environment: Development
2024-07-14 04:20:29.994 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:20:29.996 +03:00 [DBG] Hosting started
2024-07-14 04:20:30.266 +03:00 [DBG] Connection id "0HN53KCJ9S6UK" accepted.
2024-07-14 04:20:30.266 +03:00 [DBG] Connection id "0HN53KCJ9S6UL" accepted.
2024-07-14 04:20:30.269 +03:00 [DBG] Connection id "0HN53KCJ9S6UK" started.
2024-07-14 04:20:30.270 +03:00 [DBG] Connection id "0HN53KCJ9S6UL" started.
2024-07-14 04:20:30.287 +03:00 [DBG] Connection id "0HN53KCJ9S6UK" received FIN.
2024-07-14 04:20:30.287 +03:00 [DBG] Connection id "0HN53KCJ9S6UL" received FIN.
2024-07-14 04:20:30.300 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:20:30.300 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:20:30.309 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" accepted.
2024-07-14 04:20:30.329 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" started.
2024-07-14 04:20:30.329 +03:00 [DBG] Connection id "0HN53KCJ9S6UL" stopped.
2024-07-14 04:20:30.329 +03:00 [DBG] Connection id "0HN53KCJ9S6UK" stopped.
2024-07-14 04:20:30.336 +03:00 [DBG] Connection id "0HN53KCJ9S6UL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:20:30.337 +03:00 [DBG] Connection id "0HN53KCJ9S6UK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:20:30.422 +03:00 [DBG] Connection 0HN53KCJ9S6UM established using the following protocol: "Tls12"
2024-07-14 04:20:30.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:20:30.622 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:20:30.672 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:20:30.679 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:20:30.834 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:20:30.864 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:20:30.870 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 351.9727ms
2024-07-14 04:20:30.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:20:30.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:20:30.901 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.0227ms
2024-07-14 04:20:30.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.3592ms
2024-07-14 04:20:31.605 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:20:31.609 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:20:31.611 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:20:32.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 398.0340ms
2024-07-14 04:20:41.691 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" received FIN.
2024-07-14 04:20:41.697 +03:00 [DBG] The connection queue processing loop for 0HN53KCJ9S6UM completed.
2024-07-14 04:20:41.702 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" is closed. The last processed stream ID was 7.
2024-07-14 04:20:41.705 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:20:41.720 +03:00 [DBG] Connection id "0HN53KCJ9S6UM" stopped.
2024-07-14 04:22:30.210 +03:00 [DBG] debug-messages
2024-07-14 04:22:30.277 +03:00 [INF] Information-messages
2024-07-14 04:22:30.280 +03:00 [WRN] warning-messages
2024-07-14 04:22:30.281 +03:00 [ERR] error-messages
2024-07-14 04:22:30.283 +03:00 [FTL] critical-messages
2024-07-14 04:22:30.386 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:22:30.474 +03:00 [DBG] Hosting starting
2024-07-14 04:22:30.493 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:22:30.499 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:22:30.507 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:22:30.509 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:22:30.511 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:22:30.513 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:22:30.520 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:22:30.527 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:22:30.529 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:22:30.532 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:22:30.534 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:22:30.544 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:22:30.550 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:22:30.556 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:22:30.560 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:22:30.568 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:22:30.575 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:22:30.583 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:22:30.585 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:22:30.747 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:22:30.748 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:22:30.750 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:22:30.752 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:22:30.753 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:22:30.755 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:22:30.757 +03:00 [INF] Hosting environment: Development
2024-07-14 04:22:30.758 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:22:30.759 +03:00 [DBG] Hosting started
2024-07-14 04:22:30.927 +03:00 [DBG] Connection id "0HN53KDN8IRNS" accepted.
2024-07-14 04:22:30.927 +03:00 [DBG] Connection id "0HN53KDN8IRNR" accepted.
2024-07-14 04:22:30.935 +03:00 [DBG] Connection id "0HN53KDN8IRNR" received FIN.
2024-07-14 04:22:30.936 +03:00 [DBG] Connection id "0HN53KDN8IRNS" received FIN.
2024-07-14 04:22:30.939 +03:00 [DBG] Connection id "0HN53KDN8IRNS" started.
2024-07-14 04:22:30.940 +03:00 [DBG] Connection id "0HN53KDN8IRNR" started.
2024-07-14 04:22:30.963 +03:00 [DBG] Connection id "0HN53KDN8IRNT" accepted.
2024-07-14 04:22:30.965 +03:00 [DBG] Connection id "0HN53KDN8IRNT" started.
2024-07-14 04:22:30.965 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:22:30.965 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:22:30.994 +03:00 [DBG] Connection id "0HN53KDN8IRNS" stopped.
2024-07-14 04:22:30.994 +03:00 [DBG] Connection id "0HN53KDN8IRNR" stopped.
2024-07-14 04:22:31.001 +03:00 [DBG] Connection id "0HN53KDN8IRNR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:31.001 +03:00 [DBG] Connection id "0HN53KDN8IRNS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:31.056 +03:00 [DBG] Connection 0HN53KDN8IRNT established using the following protocol: "Tls12"
2024-07-14 04:22:31.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:22:31.345 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:22:31.399 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:22:31.419 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:22:31.631 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:22:31.678 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:22:31.682 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 550.3474ms
2024-07-14 04:22:31.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:22:31.722 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:22:31.733 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.6694ms
2024-07-14 04:22:31.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4426ms
2024-07-14 04:22:31.802 +03:00 [DBG] Connection id "0HN53KDN8IRNT" received FIN.
2024-07-14 04:22:31.807 +03:00 [DBG] The connection queue processing loop for 0HN53KDN8IRNT completed.
2024-07-14 04:22:31.812 +03:00 [DBG] Connection id "0HN53KDN8IRNT" is closed. The last processed stream ID was 5.
2024-07-14 04:22:31.815 +03:00 [DBG] Connection id "0HN53KDN8IRNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:31.820 +03:00 [DBG] Connection id "0HN53KDN8IRNT" stopped.
2024-07-14 04:22:32.523 +03:00 [DBG] Connection id "0HN53KDN8IRNU" accepted.
2024-07-14 04:22:32.525 +03:00 [DBG] Connection id "0HN53KDN8IRNU" started.
2024-07-14 04:22:32.528 +03:00 [DBG] Connection 0HN53KDN8IRNU established using the following protocol: "Tls12"
2024-07-14 04:22:32.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:22:32.542 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:22:32.543 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:22:32.835 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.1942ms
2024-07-14 04:22:41.823 +03:00 [DBG] Connection id "0HN53KDN8IRNU" received FIN.
2024-07-14 04:22:41.831 +03:00 [DBG] Connection id "0HN53KDN8IRNU" is closed. The last processed stream ID was 1.
2024-07-14 04:22:41.831 +03:00 [DBG] Connection id "0HN53KDN8IRNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:41.840 +03:00 [DBG] The connection queue processing loop for 0HN53KDN8IRNU completed.
2024-07-14 04:22:41.842 +03:00 [DBG] Connection id "0HN53KDN8IRNU" stopped.
2024-07-14 04:22:46.624 +03:00 [DBG] Connection id "0HN53KDN8IRNV" accepted.
2024-07-14 04:22:46.625 +03:00 [DBG] Connection id "0HN53KDN8IRNV" started.
2024-07-14 04:22:46.626 +03:00 [DBG] Connection id "0HN53KDN8IRNV" received FIN.
2024-07-14 04:22:46.629 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:22:46.637 +03:00 [DBG] Connection id "0HN53KDN8IRNV" stopped.
2024-07-14 04:22:46.638 +03:00 [DBG] Connection id "0HN53KDN8IRO0" accepted.
2024-07-14 04:22:46.639 +03:00 [DBG] Connection id "0HN53KDN8IRNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:46.641 +03:00 [DBG] Connection id "0HN53KDN8IRO0" started.
2024-07-14 04:22:46.646 +03:00 [DBG] Connection 0HN53KDN8IRO0 established using the following protocol: "Tls12"
2024-07-14 04:22:46.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:22:46.658 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:22:46.659 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:22:46.662 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:22:46.664 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:22:46.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 17.2186ms
2024-07-14 04:22:46.685 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:22:46.689 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:22:46.692 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 2.7876ms
2024-07-14 04:22:46.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 20.2443ms
2024-07-14 04:22:46.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:22:46.935 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:22:46.937 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:22:46.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 24.8908ms
2024-07-14 04:22:51.835 +03:00 [DBG] Connection id "0HN53KDN8IRO0" received FIN.
2024-07-14 04:22:51.838 +03:00 [DBG] Connection id "0HN53KDN8IRO0" is closed. The last processed stream ID was 7.
2024-07-14 04:22:51.838 +03:00 [DBG] The connection queue processing loop for 0HN53KDN8IRO0 completed.
2024-07-14 04:22:51.842 +03:00 [DBG] Connection id "0HN53KDN8IRO0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:22:51.849 +03:00 [DBG] Connection id "0HN53KDN8IRO0" stopped.
2024-07-14 04:23:06.922 +03:00 [DBG] Connection id "0HN53KDN8IRO1" accepted.
2024-07-14 04:23:06.923 +03:00 [DBG] Connection id "0HN53KDN8IRO1" received FIN.
2024-07-14 04:23:06.924 +03:00 [DBG] Connection id "0HN53KDN8IRO1" started.
2024-07-14 04:23:06.928 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:23:06.933 +03:00 [DBG] Connection id "0HN53KDN8IRO1" stopped.
2024-07-14 04:23:06.935 +03:00 [DBG] Connection id "0HN53KDN8IRO1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:06.971 +03:00 [DBG] Connection id "0HN53KDN8IRO2" accepted.
2024-07-14 04:23:06.976 +03:00 [DBG] Connection id "0HN53KDN8IRO2" started.
2024-07-14 04:23:06.980 +03:00 [DBG] Connection 0HN53KDN8IRO2 established using the following protocol: "Tls12"
2024-07-14 04:23:06.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:23:06.988 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:23:06.990 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:23:06.992 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:23:06.994 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:23:06.996 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 13.4426ms
2024-07-14 04:23:07.014 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:23:07.015 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:23:07.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 2.0404ms
2024-07-14 04:23:07.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 13.9267ms
2024-07-14 04:23:07.175 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:23:07.177 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:23:07.178 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:23:07.198 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 22.8289ms
2024-07-14 04:23:11.865 +03:00 [DBG] Connection id "0HN53KDN8IRO2" received FIN.
2024-07-14 04:23:11.873 +03:00 [DBG] Connection id "0HN53KDN8IRO2" is closed. The last processed stream ID was 7.
2024-07-14 04:23:11.873 +03:00 [DBG] The connection queue processing loop for 0HN53KDN8IRO2 completed.
2024-07-14 04:23:11.883 +03:00 [DBG] Connection id "0HN53KDN8IRO2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:11.893 +03:00 [DBG] Connection id "0HN53KDN8IRO2" stopped.
2024-07-14 04:23:15.895 +03:00 [DBG] Connection id "0HN53KDN8IRO3" accepted.
2024-07-14 04:23:15.897 +03:00 [DBG] Connection id "0HN53KDN8IRO3" received FIN.
2024-07-14 04:23:15.898 +03:00 [DBG] Connection id "0HN53KDN8IRO4" accepted.
2024-07-14 04:23:15.898 +03:00 [DBG] Connection id "0HN53KDN8IRO3" started.
2024-07-14 04:23:15.904 +03:00 [DBG] Connection id "0HN53KDN8IRO4" started.
2024-07-14 04:23:15.906 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:23:15.913 +03:00 [DBG] Connection id "0HN53KDN8IRO3" stopped.
2024-07-14 04:23:15.917 +03:00 [DBG] Connection id "0HN53KDN8IRO3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:15.919 +03:00 [DBG] Connection 0HN53KDN8IRO4 established using the following protocol: "Tls12"
2024-07-14 04:23:15.930 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:23:15.939 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:23:15.946 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:23:15.952 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:23:15.954 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:23:16.491 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:23:16.568 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:23:16.576 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:23:16.610 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:23:16.616 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:23:16.619 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:23:16.621 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:23:16.624 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:23:16.626 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:23:16.630 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:23:16.633 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:23:16.640 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:23:16.646 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:23:16.651 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:23:16.663 +03:00 [DBG] Connection id "0HN53KDN8IRO4", Request id "0HN53KDN8IRO4:00000001": started reading request body.
2024-07-14 04:23:16.668 +03:00 [DBG] Connection id "0HN53KDN8IRO4", Request id "0HN53KDN8IRO4:00000001": done reading request body.
2024-07-14 04:23:16.677 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:23:16.680 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:23:16.682 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:23:16.685 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:23:16.699 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:23:16.728 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:23:16.729 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:23:17.526 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:23:17.531 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:23:17.536 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:23:17.715 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:23:17.719 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:23:17.939 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:23:18.105 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:23:18.386 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:23:18.446 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:23:18.453 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:23:18.542 +03:00 [DBG] Created DbConnection. (86ms).
2024-07-14 04:23:18.554 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (114ms).
2024-07-14 04:23:18.572 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (133ms).
2024-07-14 04:23:18.579 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:23:18.903 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:23:18.914 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:23:19.028 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:23:19.048 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:23:19.061 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 22ms reading results.
2024-07-14 04:23:19.068 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:23:19.079 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (11ms).
2024-07-14 04:23:19.082 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:23:19.084 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:23:29.767 +03:00 [DBG] Connection id "0HN53KDN8IRO4" received FIN.
2024-07-14 04:23:29.772 +03:00 [DBG] Connection id "0HN53KDN8IRO4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:29.776 +03:00 [DBG] Connection id "0HN53KDN8IRO4" disconnecting.
2024-07-14 04:23:30.359 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 13725.2378ms
2024-07-14 04:23:30.488 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:23:30.493 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR1P264CA0007.FRAP264.PROD.OUTLOOK.COM 2024-07-14T01:23:31.926Z 08DCA3685E291252]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:23:30.558 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR1P264CA0007.FRAP264.PROD.OUTLOOK.COM 2024-07-14T01:23:31.926Z 08DCA3685E291252]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:23:30.589 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:23:30.614 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:23:30.620 +03:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-07-14 04:23:30.623 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 14692.3850ms
2024-07-14 04:23:30.625 +03:00 [DBG] Connection id "0HN53KDN8IRO4" stopped.
2024-07-14 04:23:35.975 +03:00 [DBG] Connection id "0HN53KDN8IRO5" accepted.
2024-07-14 04:23:35.976 +03:00 [DBG] Connection id "0HN53KDN8IRO5" received FIN.
2024-07-14 04:23:35.977 +03:00 [DBG] Connection id "0HN53KDN8IRO5" started.
2024-07-14 04:23:35.981 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:23:35.986 +03:00 [DBG] Connection id "0HN53KDN8IRO5" stopped.
2024-07-14 04:23:35.988 +03:00 [DBG] Connection id "0HN53KDN8IRO5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:36.013 +03:00 [DBG] Connection id "0HN53KDN8IRO6" accepted.
2024-07-14 04:23:36.015 +03:00 [DBG] Connection id "0HN53KDN8IRO6" started.
2024-07-14 04:23:36.020 +03:00 [DBG] Connection 0HN53KDN8IRO6 established using the following protocol: "Tls12"
2024-07-14 04:23:36.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:23:36.029 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:23:36.036 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:23:36.039 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:23:36.042 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:23:36.052 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 29.1657ms
2024-07-14 04:23:36.094 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:23:36.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 14.4825ms
2024-07-14 04:23:36.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:23:36.124 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 3.3403ms
2024-07-14 04:23:36.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:23:36.314 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:23:36.316 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:23:36.331 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 18.2969ms
2024-07-14 04:23:41.897 +03:00 [DBG] Connection id "0HN53KDN8IRO6" received FIN.
2024-07-14 04:23:41.900 +03:00 [DBG] Connection id "0HN53KDN8IRO6" is closed. The last processed stream ID was 7.
2024-07-14 04:23:41.900 +03:00 [DBG] The connection queue processing loop for 0HN53KDN8IRO6 completed.
2024-07-14 04:23:41.903 +03:00 [DBG] Connection id "0HN53KDN8IRO6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:23:41.912 +03:00 [DBG] Connection id "0HN53KDN8IRO6" stopped.
2024-07-14 04:24:41.844 +03:00 [DBG] debug-messages
2024-07-14 04:24:43.776 +03:00 [INF] Information-messages
2024-07-14 04:24:45.781 +03:00 [WRN] warning-messages
2024-07-14 04:24:46.983 +03:00 [ERR] error-messages
2024-07-14 04:24:48.937 +03:00 [FTL] critical-messages
2024-07-14 04:24:50.155 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:24:53.159 +03:00 [DBG] Hosting starting
2024-07-14 04:24:54.765 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:24:55.849 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:24:55.865 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:24:55.874 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:24:55.877 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:24:55.881 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:24:55.889 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:24:55.911 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:24:55.916 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:24:55.919 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:24:55.921 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:24:56.126 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:24:57.571 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:24:57.602 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:24:58.214 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:24:58.222 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:24:58.230 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:24:58.240 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:24:58.242 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:24:58.570 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:24:58.723 +03:00 [DBG] Connection id "0HN53KF3A2RT1" accepted.
2024-07-14 04:24:58.738 +03:00 [DBG] Connection id "0HN53KF3A2RT1" received FIN.
2024-07-14 04:24:58.741 +03:00 [DBG] Connection id "0HN53KF3A2RT2" received FIN.
2024-07-14 04:24:59.125 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:25:00.116 +03:00 [DBG] Connection id "0HN53KF3A2RT3" accepted.
2024-07-14 04:25:00.187 +03:00 [DBG] Connection id "0HN53KF3A2RT3" started.
2024-07-14 04:25:00.175 +03:00 [DBG] Connection id "0HN53KF3A2RT2" accepted.
2024-07-14 04:25:00.190 +03:00 [DBG] Connection id "0HN53KF3A2RT2" started.
2024-07-14 04:25:00.147 +03:00 [DBG] Connection id "0HN53KF3A2RT1" started.
2024-07-14 04:25:00.185 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:25:00.197 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:25:00.199 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:25:00.201 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:25:00.202 +03:00 [INF] Hosting environment: Development
2024-07-14 04:25:00.203 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:25:00.205 +03:00 [DBG] Hosting started
2024-07-14 04:25:00.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:25:00.278 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:25:00.355 +03:00 [DBG] Connection id "0HN53KF3A2RT2" stopped.
2024-07-14 04:25:00.355 +03:00 [DBG] Connection id "0HN53KF3A2RT1" stopped.
2024-07-14 04:25:00.363 +03:00 [DBG] Connection id "0HN53KF3A2RT2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:25:00.363 +03:00 [DBG] Connection id "0HN53KF3A2RT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:25:00.428 +03:00 [DBG] Connection 0HN53KF3A2RT3 established using the following protocol: "Tls12"
2024-07-14 04:25:00.552 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:25:00.762 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:25:00.867 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:25:00.870 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:25:01.092 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:25:01.169 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:25:01.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 654.3963ms
2024-07-14 04:25:01.256 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:25:01.257 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:25:01.273 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 15.6432ms
2024-07-14 04:25:01.424 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 167.3745ms
2024-07-14 04:25:01.680 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:25:01.922 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:25:01.925 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:25:02.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 588.4899ms
2024-07-14 04:25:06.581 +03:00 [DBG] Connection id "0HN53KF3A2RT4" received FIN.
2024-07-14 04:25:07.263 +03:00 [DBG] Connection id "0HN53KF3A2RT4" accepted.
2024-07-14 04:25:07.267 +03:00 [DBG] Connection id "0HN53KF3A2RT5" accepted.
2024-07-14 04:25:07.267 +03:00 [DBG] Connection id "0HN53KF3A2RT4" started.
2024-07-14 04:25:07.270 +03:00 [DBG] Connection id "0HN53KF3A2RT5" started.
2024-07-14 04:25:07.272 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:25:07.280 +03:00 [DBG] Connection id "0HN53KF3A2RT4" stopped.
2024-07-14 04:25:07.281 +03:00 [DBG] Connection id "0HN53KF3A2RT4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:25:07.282 +03:00 [DBG] Connection 0HN53KF3A2RT5 established using the following protocol: "Tls12"
2024-07-14 04:25:07.302 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:25:07.312 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:25:07.319 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:25:07.323 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:25:07.327 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:25:07.555 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:25:07.625 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:25:07.632 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:25:07.672 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:25:07.678 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:25:07.681 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:25:07.684 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:25:07.687 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:25:07.690 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:25:07.698 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:25:07.702 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:25:07.714 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:25:07.721 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:25:07.729 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:25:07.756 +03:00 [DBG] Connection id "0HN53KF3A2RT5", Request id "0HN53KF3A2RT5:00000001": started reading request body.
2024-07-14 04:25:07.759 +03:00 [DBG] Connection id "0HN53KF3A2RT5", Request id "0HN53KF3A2RT5:00000001": done reading request body.
2024-07-14 04:25:07.776 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:25:07.782 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:25:07.785 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:25:07.788 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:25:07.817 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:25:07.826 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:25:07.831 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:25:08.750 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:25:08.754 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:25:08.756 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:25:09.001 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:25:09.003 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:25:09.400 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:25:09.492 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:25:09.883 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:25:09.974 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:25:09.980 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:25:10.006 +03:00 [DBG] Created DbConnection. (23ms).
2024-07-14 04:25:10.021 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2024-07-14 04:25:10.039 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (67ms).
2024-07-14 04:25:10.044 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:25:10.311 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:25:10.322 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:25:10.378 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:25:10.392 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:25:10.405 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 17ms reading results.
2024-07-14 04:25:10.413 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:25:10.422 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (11ms).
2024-07-14 04:25:10.425 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:25:10.426 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:25:12.045 +03:00 [DBG] Connection id "0HN53KF3A2RT3" received FIN.
2024-07-14 04:25:12.050 +03:00 [DBG] Connection id "0HN53KF3A2RT3" is closed. The last processed stream ID was 7.
2024-07-14 04:25:12.050 +03:00 [DBG] The connection queue processing loop for 0HN53KF3A2RT3 completed.
2024-07-14 04:25:12.052 +03:00 [DBG] Connection id "0HN53KF3A2RT3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:25:12.061 +03:00 [DBG] Connection id "0HN53KF3A2RT3" stopped.
2024-07-14 04:25:21.549 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 13847.3519ms
2024-07-14 04:25:21.553 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:25:21.558 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MI2P293CA0005.ITAP293.PROD.OUTLOOK.COM 2024-07-14T01:25:23.216Z 08DCA35858CC5C1C]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:25:21.595 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MI2P293CA0005.ITAP293.PROD.OUTLOOK.COM 2024-07-14T01:25:23.216Z 08DCA35858CC5C1C]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:25:21.636 +03:00 [DBG] Connection id "0HN53KF3A2RT5" completed keep alive response.
2024-07-14 04:25:21.730 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:25:21.738 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:25:21.744 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-14 04:25:21.747 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 14444.5828ms
2024-07-14 04:27:32.896 +03:00 [DBG] Connection id "0HN53KF3A2RT5" disconnecting.
2024-07-14 04:27:32.898 +03:00 [DBG] Connection id "0HN53KF3A2RT5" stopped.
2024-07-14 04:27:32.910 +03:00 [DBG] Connection id "0HN53KF3A2RT5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:28:42.809 +03:00 [DBG] debug-messages
2024-07-14 04:28:42.854 +03:00 [INF] Information-messages
2024-07-14 04:28:42.856 +03:00 [WRN] warning-messages
2024-07-14 04:28:42.857 +03:00 [ERR] error-messages
2024-07-14 04:28:42.859 +03:00 [FTL] critical-messages
2024-07-14 04:28:42.944 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:28:43.050 +03:00 [DBG] Hosting starting
2024-07-14 04:28:43.075 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:28:43.082 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:28:43.089 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:28:43.092 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:28:43.094 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:28:43.096 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:28:43.102 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:28:43.107 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:28:43.109 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:28:43.111 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:28:43.113 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:28:43.123 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:28:43.128 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:28:43.135 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:28:43.138 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:28:43.146 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:28:43.154 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:28:43.161 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:28:43.164 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:28:43.328 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:28:43.330 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:28:43.332 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:28:43.333 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:28:43.335 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:28:43.337 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:28:43.338 +03:00 [INF] Hosting environment: Development
2024-07-14 04:28:43.340 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:28:43.342 +03:00 [DBG] Hosting started
2024-07-14 04:28:43.615 +03:00 [DBG] Connection id "0HN53KH6AQ8JI" accepted.
2024-07-14 04:28:43.615 +03:00 [DBG] Connection id "0HN53KH6AQ8JH" accepted.
2024-07-14 04:28:43.621 +03:00 [DBG] Connection id "0HN53KH6AQ8JH" received FIN.
2024-07-14 04:28:43.622 +03:00 [DBG] Connection id "0HN53KH6AQ8JI" received FIN.
2024-07-14 04:28:43.623 +03:00 [DBG] Connection id "0HN53KH6AQ8JI" started.
2024-07-14 04:28:43.626 +03:00 [DBG] Connection id "0HN53KH6AQ8JH" started.
2024-07-14 04:28:43.703 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:28:43.705 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:28:43.738 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" accepted.
2024-07-14 04:28:43.754 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" started.
2024-07-14 04:28:43.755 +03:00 [DBG] Connection id "0HN53KH6AQ8JH" stopped.
2024-07-14 04:28:43.755 +03:00 [DBG] Connection id "0HN53KH6AQ8JI" stopped.
2024-07-14 04:28:43.761 +03:00 [DBG] Connection id "0HN53KH6AQ8JH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:28:43.762 +03:00 [DBG] Connection id "0HN53KH6AQ8JI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:28:43.803 +03:00 [DBG] Connection 0HN53KH6AQ8JJ established using the following protocol: "Tls12"
2024-07-14 04:28:43.859 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:28:44.022 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:28:44.074 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:28:44.081 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:28:44.224 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:28:44.258 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:28:44.264 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 407.1030ms
2024-07-14 04:28:44.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:28:44.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:28:44.374 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 12.7073ms
2024-07-14 04:28:44.412 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.8161ms
2024-07-14 04:28:44.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:28:44.513 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:28:44.515 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:28:44.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 213.5769ms
2024-07-14 04:28:46.281 +03:00 [DBG] Connection id "0HN53KH6AQ8JK" accepted.
2024-07-14 04:28:46.282 +03:00 [DBG] Connection id "0HN53KH6AQ8JK" received FIN.
2024-07-14 04:28:46.283 +03:00 [DBG] Connection id "0HN53KH6AQ8JL" accepted.
2024-07-14 04:28:46.283 +03:00 [DBG] Connection id "0HN53KH6AQ8JK" started.
2024-07-14 04:28:46.288 +03:00 [DBG] Connection id "0HN53KH6AQ8JL" started.
2024-07-14 04:28:46.290 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:28:46.296 +03:00 [DBG] Connection id "0HN53KH6AQ8JK" stopped.
2024-07-14 04:28:46.298 +03:00 [DBG] Connection id "0HN53KH6AQ8JK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:28:46.302 +03:00 [DBG] Connection 0HN53KH6AQ8JL established using the following protocol: "Tls12"
2024-07-14 04:28:46.313 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:28:46.322 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:28:46.329 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:28:46.332 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:28:46.338 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:28:46.504 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:28:46.541 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:28:46.545 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:28:46.579 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:28:46.586 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:28:46.588 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:28:46.590 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:28:46.593 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:28:46.595 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:28:46.599 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:28:46.604 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:28:46.610 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:28:46.614 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:28:46.619 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:28:46.632 +03:00 [DBG] Connection id "0HN53KH6AQ8JL", Request id "0HN53KH6AQ8JL:00000001": started reading request body.
2024-07-14 04:28:46.635 +03:00 [DBG] Connection id "0HN53KH6AQ8JL", Request id "0HN53KH6AQ8JL:00000001": done reading request body.
2024-07-14 04:28:46.644 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:28:46.646 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:28:46.648 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:28:46.651 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:28:46.665 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:28:46.672 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:28:46.673 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:28:47.225 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:28:47.230 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:28:47.232 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:28:47.361 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:28:47.365 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:28:47.614 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:28:47.690 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:28:47.898 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:28:47.952 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:28:47.957 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:28:47.980 +03:00 [DBG] Created DbConnection. (19ms).
2024-07-14 04:28:47.993 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-07-14 04:28:48.009 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (59ms).
2024-07-14 04:28:48.014 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:28:48.272 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:28:48.289 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:28:48.354 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:28:48.371 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:28:48.382 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 18ms reading results.
2024-07-14 04:28:48.390 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:28:48.397 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (7ms).
2024-07-14 04:28:48.401 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:28:48.402 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:28:52.382 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" received FIN.
2024-07-14 04:28:52.387 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" is closed. The last processed stream ID was 7.
2024-07-14 04:28:52.388 +03:00 [DBG] The connection queue processing loop for 0HN53KH6AQ8JJ completed.
2024-07-14 04:28:52.390 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:28:52.397 +03:00 [DBG] Connection id "0HN53KH6AQ8JJ" stopped.
2024-07-14 04:28:59.706 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 13099.9893ms
2024-07-14 04:28:59.711 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:28:59.715 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR1P264CA0095.FRAP264.PROD.OUTLOOK.COM 2024-07-14T01:29:01.381Z 08DCA3760B77AAE0]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:28:59.752 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.57 Client not authenticated to send mail. Error: 535 5.7.3 Authentication unsuccessful [MR1P264CA0095.FRAP264.PROD.OUTLOOK.COM 2024-07-14T01:29:01.381Z 08DCA3760B77AAE0]
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:28:59.886 +03:00 [DBG] Connection id "0HN53KH6AQ8JL" completed keep alive response.
2024-07-14 04:28:59.897 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:28:59.909 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:28:59.921 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-07-14 04:28:59.931 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 13617.3165ms
2024-07-14 04:31:06.748 +03:00 [DBG] debug-messages
2024-07-14 04:31:06.797 +03:00 [INF] Information-messages
2024-07-14 04:31:06.799 +03:00 [WRN] warning-messages
2024-07-14 04:31:06.800 +03:00 [ERR] error-messages
2024-07-14 04:31:06.801 +03:00 [FTL] critical-messages
2024-07-14 04:31:06.870 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:31:06.938 +03:00 [DBG] Hosting starting
2024-07-14 04:31:06.960 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:31:06.966 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:31:06.974 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:31:06.977 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:31:06.979 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:31:06.981 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:31:06.989 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:31:06.998 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:31:07.000 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:31:07.001 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:31:07.003 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:31:07.016 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:31:07.022 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:31:07.028 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:31:07.032 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:31:07.040 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:31:07.049 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:31:07.058 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:31:07.060 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:31:07.216 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:31:07.218 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:31:07.220 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:31:07.222 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:31:07.224 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:31:07.226 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:31:07.227 +03:00 [INF] Hosting environment: Development
2024-07-14 04:31:07.228 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:31:07.230 +03:00 [DBG] Hosting started
2024-07-14 04:31:07.622 +03:00 [DBG] Connection id "0HN53KIH85RST" accepted.
2024-07-14 04:31:07.622 +03:00 [DBG] Connection id "0HN53KIH85RSU" accepted.
2024-07-14 04:31:07.625 +03:00 [DBG] Connection id "0HN53KIH85RST" started.
2024-07-14 04:31:07.626 +03:00 [DBG] Connection id "0HN53KIH85RSU" started.
2024-07-14 04:31:07.647 +03:00 [DBG] Connection id "0HN53KIH85RST" received FIN.
2024-07-14 04:31:07.647 +03:00 [DBG] Connection id "0HN53KIH85RSU" received FIN.
2024-07-14 04:31:07.657 +03:00 [DBG] Connection id "0HN53KIH85RSV" accepted.
2024-07-14 04:31:07.661 +03:00 [DBG] Connection id "0HN53KIH85RSV" started.
2024-07-14 04:31:07.656 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:31:07.656 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:31:07.693 +03:00 [DBG] Connection id "0HN53KIH85RSU" stopped.
2024-07-14 04:31:07.693 +03:00 [DBG] Connection id "0HN53KIH85RST" stopped.
2024-07-14 04:31:07.700 +03:00 [DBG] Connection id "0HN53KIH85RSU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:31:07.700 +03:00 [DBG] Connection id "0HN53KIH85RST" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:31:07.725 +03:00 [DBG] Connection 0HN53KIH85RSV established using the following protocol: "Tls12"
2024-07-14 04:31:07.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:31:07.873 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:31:07.909 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:31:07.912 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:31:08.185 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:31:08.215 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:31:08.221 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 442.7434ms
2024-07-14 04:31:08.227 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:31:08.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:31:08.241 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 6.6058ms
2024-07-14 04:31:08.280 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.1981ms
2024-07-14 04:31:08.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:31:08.428 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:31:08.429 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:31:08.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 264.9709ms
2024-07-14 04:31:11.700 +03:00 [DBG] Connection id "0HN53KIH85RT0" accepted.
2024-07-14 04:31:11.703 +03:00 [DBG] Connection id "0HN53KIH85RT0" received FIN.
2024-07-14 04:31:11.704 +03:00 [DBG] Connection id "0HN53KIH85RT0" started.
2024-07-14 04:31:11.704 +03:00 [DBG] Connection id "0HN53KIH85RT1" accepted.
2024-07-14 04:31:11.707 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:31:11.709 +03:00 [DBG] Connection id "0HN53KIH85RT1" started.
2024-07-14 04:31:11.715 +03:00 [DBG] Connection id "0HN53KIH85RT0" stopped.
2024-07-14 04:31:11.717 +03:00 [DBG] Connection id "0HN53KIH85RT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:31:11.725 +03:00 [DBG] Connection 0HN53KIH85RT1 established using the following protocol: "Tls12"
2024-07-14 04:31:11.740 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:31:11.750 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:31:11.757 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:31:11.761 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:31:11.765 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:31:11.918 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:31:11.976 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:31:11.982 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:31:12.029 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:31:12.034 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:31:12.037 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:31:12.039 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:31:12.042 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:31:12.047 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:31:12.052 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:31:12.055 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:31:12.066 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:31:12.070 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:31:12.074 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:31:12.091 +03:00 [DBG] Connection id "0HN53KIH85RT1", Request id "0HN53KIH85RT1:00000001": started reading request body.
2024-07-14 04:31:12.095 +03:00 [DBG] Connection id "0HN53KIH85RT1", Request id "0HN53KIH85RT1:00000001": done reading request body.
2024-07-14 04:31:12.107 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:31:12.109 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:31:12.113 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:31:12.115 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:31:12.130 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:31:12.135 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:31:12.136 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:31:12.659 +03:00 [DBG] Connection id "0HN53KIH85RSV" received FIN.
2024-07-14 04:31:12.665 +03:00 [DBG] The connection queue processing loop for 0HN53KIH85RSV completed.
2024-07-14 04:31:12.669 +03:00 [DBG] Connection id "0HN53KIH85RSV" is closed. The last processed stream ID was 7.
2024-07-14 04:31:12.671 +03:00 [DBG] Connection id "0HN53KIH85RSV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:31:12.688 +03:00 [DBG] Connection id "0HN53KIH85RSV" stopped.
2024-07-14 04:31:12.812 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:31:12.815 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:31:12.818 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:31:13.016 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:31:13.019 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:31:13.278 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:31:13.342 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:31:13.718 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:31:13.801 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:31:13.805 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:31:13.840 +03:00 [DBG] Created DbConnection. (30ms).
2024-07-14 04:31:13.850 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2024-07-14 04:31:13.869 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (70ms).
2024-07-14 04:31:13.874 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:31:14.168 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:31:14.184 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:31:14.246 +03:00 [INF] Executed DbCommand (67ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:31:14.266 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:31:14.281 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 21ms reading results.
2024-07-14 04:31:14.286 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:31:14.297 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (11ms).
2024-07-14 04:31:14.299 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:31:14.301 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:31:15.334 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 3280.9064ms
2024-07-14 04:31:15.337 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:31:15.340 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:31:15.364 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:31:15.389 +03:00 [DBG] Connection id "0HN53KIH85RT1" completed keep alive response.
2024-07-14 04:31:15.397 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:31:15.405 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:31:15.409 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-14 04:31:15.414 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 3674.7379ms
2024-07-14 04:32:04.427 +03:00 [DBG] debug-messages
2024-07-14 04:32:04.467 +03:00 [INF] Information-messages
2024-07-14 04:32:04.469 +03:00 [WRN] warning-messages
2024-07-14 04:32:04.470 +03:00 [ERR] error-messages
2024-07-14 04:32:04.471 +03:00 [FTL] critical-messages
2024-07-14 04:32:04.549 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:32:04.623 +03:00 [DBG] Hosting starting
2024-07-14 04:32:04.645 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:32:04.650 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:32:04.657 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:32:04.659 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:32:04.661 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:32:04.662 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:32:04.668 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:32:04.673 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:32:04.675 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:32:04.677 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:32:04.679 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:32:04.688 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:32:04.695 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:32:04.700 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:32:04.703 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:32:04.709 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:32:04.716 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:32:04.722 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:32:04.725 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:32:04.863 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:32:04.865 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:32:04.867 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:32:04.869 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:32:04.870 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:32:04.872 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:32:04.873 +03:00 [INF] Hosting environment: Development
2024-07-14 04:32:04.874 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:32:04.876 +03:00 [DBG] Hosting started
2024-07-14 04:32:05.309 +03:00 [DBG] Connection id "0HN53KJ2EAGR9" accepted.
2024-07-14 04:32:05.312 +03:00 [DBG] Connection id "0HN53KJ2EAGR9" started.
2024-07-14 04:32:05.318 +03:00 [DBG] Connection id "0HN53KJ2EAGRA" accepted.
2024-07-14 04:32:05.319 +03:00 [DBG] Connection id "0HN53KJ2EAGRA" started.
2024-07-14 04:32:05.336 +03:00 [DBG] Connection id "0HN53KJ2EAGR9" received FIN.
2024-07-14 04:32:05.336 +03:00 [DBG] Connection id "0HN53KJ2EAGRA" received FIN.
2024-07-14 04:32:05.345 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:32:05.345 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:32:05.354 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" accepted.
2024-07-14 04:32:05.371 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" started.
2024-07-14 04:32:05.374 +03:00 [DBG] Connection id "0HN53KJ2EAGR9" stopped.
2024-07-14 04:32:05.374 +03:00 [DBG] Connection id "0HN53KJ2EAGRA" stopped.
2024-07-14 04:32:05.380 +03:00 [DBG] Connection id "0HN53KJ2EAGR9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:32:05.380 +03:00 [DBG] Connection id "0HN53KJ2EAGRA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:32:05.452 +03:00 [DBG] Connection 0HN53KJ2EAGRB established using the following protocol: "Tls12"
2024-07-14 04:32:05.531 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:32:05.643 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:32:05.683 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:32:05.685 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:32:05.821 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:32:05.850 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:32:05.856 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 329.1954ms
2024-07-14 04:32:05.856 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:32:05.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.2723ms
2024-07-14 04:32:06.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:32:06.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 7.2599ms
2024-07-14 04:32:06.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:32:06.159 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:32:06.161 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:32:06.373 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 216.8285ms
2024-07-14 04:32:12.184 +03:00 [DBG] Connection id "0HN53KJ2EAGRC" accepted.
2024-07-14 04:32:12.185 +03:00 [DBG] Connection id "0HN53KJ2EAGRC" received FIN.
2024-07-14 04:32:12.186 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" accepted.
2024-07-14 04:32:12.186 +03:00 [DBG] Connection id "0HN53KJ2EAGRC" started.
2024-07-14 04:32:12.189 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" started.
2024-07-14 04:32:12.192 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:32:12.198 +03:00 [DBG] Connection id "0HN53KJ2EAGRC" stopped.
2024-07-14 04:32:12.199 +03:00 [DBG] Connection id "0HN53KJ2EAGRC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:32:12.201 +03:00 [DBG] Connection 0HN53KJ2EAGRD established using the following protocol: "Tls12"
2024-07-14 04:32:12.216 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:32:12.223 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:32:12.231 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:32:12.234 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:32:12.237 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:32:12.380 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:32:12.418 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:32:12.422 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:32:12.455 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:32:12.461 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:32:12.463 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:32:12.465 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:32:12.468 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:32:12.470 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:32:12.475 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:32:12.478 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:32:12.483 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:32:12.487 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:32:12.492 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:32:12.505 +03:00 [DBG] Connection id "0HN53KJ2EAGRD", Request id "0HN53KJ2EAGRD:00000001": started reading request body.
2024-07-14 04:32:12.509 +03:00 [DBG] Connection id "0HN53KJ2EAGRD", Request id "0HN53KJ2EAGRD:00000001": done reading request body.
2024-07-14 04:32:12.517 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:32:12.519 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:32:12.521 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:32:12.523 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:32:12.537 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:32:12.546 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:32:12.547 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:32:13.139 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:32:13.144 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:32:13.147 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:32:13.316 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:32:13.319 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:32:13.580 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:32:13.662 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:32:13.910 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:32:13.962 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:32:13.965 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:32:13.988 +03:00 [DBG] Created DbConnection. (19ms).
2024-07-14 04:32:14.002 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2024-07-14 04:32:14.017 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (56ms).
2024-07-14 04:32:14.021 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:32:14.203 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:32:14.217 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:32:14.264 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:32:14.279 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:32:14.288 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 15ms reading results.
2024-07-14 04:32:14.294 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:32:14.301 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (6ms).
2024-07-14 04:32:14.303 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:32:14.304 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:32:15.321 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 2834.2461ms
2024-07-14 04:32:15.334 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:32:15.348 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:32:15.399 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:32:15.433 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" completed keep alive response.
2024-07-14 04:32:15.439 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:32:15.449 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:32:15.456 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-07-14 04:32:15.462 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 3246.6268ms
2024-07-14 04:33:12.792 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" received FIN.
2024-07-14 04:33:12.798 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" is closed. The last processed stream ID was 7.
2024-07-14 04:33:12.800 +03:00 [DBG] The connection queue processing loop for 0HN53KJ2EAGRB completed.
2024-07-14 04:33:12.801 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:33:12.808 +03:00 [DBG] Connection id "0HN53KJ2EAGRB" stopped.
2024-07-14 04:34:25.939 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" disconnecting.
2024-07-14 04:34:25.941 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" stopped.
2024-07-14 04:34:25.943 +03:00 [DBG] Connection id "0HN53KJ2EAGRD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:41:39.143 +03:00 [DBG] Config reload token fired. Checking for changes...
2024-07-14 04:41:39.407 +03:00 [DBG] Config reload token fired. Checking for changes...
2024-07-14 04:41:49.512 +03:00 [DBG] debug-messages
2024-07-14 04:41:49.558 +03:00 [INF] Information-messages
2024-07-14 04:41:49.561 +03:00 [WRN] warning-messages
2024-07-14 04:41:49.563 +03:00 [ERR] error-messages
2024-07-14 04:41:49.564 +03:00 [FTL] critical-messages
2024-07-14 04:41:49.643 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:41:49.731 +03:00 [DBG] Hosting starting
2024-07-14 04:41:49.754 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:41:49.761 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:41:49.770 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:41:49.774 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:41:49.777 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:41:49.780 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:41:49.786 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:41:49.794 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:41:49.798 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:41:49.799 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:41:49.803 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:41:49.838 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:41:49.846 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:41:50.209 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:41:50.214 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:41:50.222 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:41:50.230 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:41:50.238 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:41:50.242 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:41:50.385 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:41:50.388 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:41:50.392 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:41:50.393 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:41:50.395 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:41:50.397 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:41:50.399 +03:00 [INF] Hosting environment: Development
2024-07-14 04:41:50.401 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:41:50.402 +03:00 [DBG] Hosting started
2024-07-14 04:41:50.476 +03:00 [DBG] Connection id "0HN53KOGQT7E3" accepted.
2024-07-14 04:41:50.476 +03:00 [DBG] Connection id "0HN53KOGQT7E2" accepted.
2024-07-14 04:41:50.479 +03:00 [DBG] Connection id "0HN53KOGQT7E3" started.
2024-07-14 04:41:50.479 +03:00 [DBG] Connection id "0HN53KOGQT7E2" received FIN.
2024-07-14 04:41:50.479 +03:00 [DBG] Connection id "0HN53KOGQT7E3" received FIN.
2024-07-14 04:41:50.480 +03:00 [DBG] Connection id "0HN53KOGQT7E2" started.
2024-07-14 04:41:50.500 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:41:50.500 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:41:50.524 +03:00 [DBG] Connection id "0HN53KOGQT7E4" accepted.
2024-07-14 04:41:50.526 +03:00 [DBG] Connection id "0HN53KOGQT7E2" stopped.
2024-07-14 04:41:50.526 +03:00 [DBG] Connection id "0HN53KOGQT7E3" stopped.
2024-07-14 04:41:50.528 +03:00 [DBG] Connection id "0HN53KOGQT7E4" started.
2024-07-14 04:41:50.534 +03:00 [DBG] Connection id "0HN53KOGQT7E3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:41:50.534 +03:00 [DBG] Connection id "0HN53KOGQT7E2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:41:50.946 +03:00 [DBG] Connection 0HN53KOGQT7E4 established using the following protocol: "Tls12"
2024-07-14 04:41:51.010 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:41:51.122 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:41:51.154 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:41:51.156 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:41:51.286 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:41:51.322 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:41:51.329 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 320.7252ms
2024-07-14 04:41:51.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:41:51.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:41:51.358 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 8.7257ms
2024-07-14 04:41:51.401 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.5540ms
2024-07-14 04:41:51.533 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:41:51.535 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:41:51.537 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:41:51.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 228.1064ms
2024-07-14 04:41:53.437 +03:00 [DBG] Connection id "0HN53KOGQT7E5" accepted.
2024-07-14 04:41:53.439 +03:00 [DBG] Connection id "0HN53KOGQT7E5" started.
2024-07-14 04:41:53.439 +03:00 [DBG] Connection id "0HN53KOGQT7E5" received FIN.
2024-07-14 04:41:53.439 +03:00 [DBG] Connection id "0HN53KOGQT7E6" accepted.
2024-07-14 04:41:53.444 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:41:53.446 +03:00 [DBG] Connection id "0HN53KOGQT7E6" started.
2024-07-14 04:41:53.453 +03:00 [DBG] Connection id "0HN53KOGQT7E5" stopped.
2024-07-14 04:41:53.457 +03:00 [DBG] Connection id "0HN53KOGQT7E5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:41:53.478 +03:00 [DBG] Connection 0HN53KOGQT7E6 established using the following protocol: "Tls12"
2024-07-14 04:41:53.493 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:41:53.504 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:41:53.511 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:41:53.516 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:41:53.520 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:41:53.539 +03:00 [DBG] Connection id "0HN53KOGQT7E4" received FIN.
2024-07-14 04:41:53.543 +03:00 [DBG] The connection queue processing loop for 0HN53KOGQT7E4 completed.
2024-07-14 04:41:53.548 +03:00 [DBG] Connection id "0HN53KOGQT7E4" is closed. The last processed stream ID was 7.
2024-07-14 04:41:53.550 +03:00 [DBG] Connection id "0HN53KOGQT7E4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:41:53.554 +03:00 [DBG] Connection id "0HN53KOGQT7E4" stopped.
2024-07-14 04:41:53.725 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:41:53.768 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:41:53.772 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:41:53.808 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:41:53.811 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:41:53.815 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:41:53.818 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:41:53.821 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:41:53.823 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:41:53.827 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:41:53.830 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:41:53.837 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:41:53.841 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:41:53.845 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:41:53.862 +03:00 [DBG] Connection id "0HN53KOGQT7E6", Request id "0HN53KOGQT7E6:00000001": started reading request body.
2024-07-14 04:41:53.867 +03:00 [DBG] Connection id "0HN53KOGQT7E6", Request id "0HN53KOGQT7E6:00000001": done reading request body.
2024-07-14 04:41:53.877 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:41:53.882 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:41:53.885 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:41:53.888 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:41:53.904 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:41:53.912 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:41:53.915 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:41:54.513 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:41:54.519 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:41:54.523 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:41:54.653 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:41:54.656 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:41:54.909 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:41:55.005 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:41:55.286 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:41:55.338 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:41:55.342 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:41:55.368 +03:00 [DBG] Created DbConnection. (20ms).
2024-07-14 04:41:55.376 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-07-14 04:41:55.392 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (55ms).
2024-07-14 04:41:55.400 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:41:55.685 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:41:55.699 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:41:55.762 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:41:55.778 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:41:55.790 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 17ms reading results.
2024-07-14 04:41:55.798 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:41:55.808 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (10ms).
2024-07-14 04:41:55.812 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:41:55.814 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:42:26.222 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 32392.9274ms
2024-07-14 04:42:26.227 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:42:26.232 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Syntax error, command unrecognized. The server response was: 
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:42:26.283 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Syntax error, command unrecognized. The server response was: 
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:42:26.309 +03:00 [DBG] Connection id "0HN53KOGQT7E6" completed keep alive response.
2024-07-14 04:42:26.318 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:42:26.325 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:42:26.332 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-07-14 04:42:26.336 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 32842.0218ms
2024-07-14 04:44:20.034 +03:00 [DBG] debug-messages
2024-07-14 04:44:20.201 +03:00 [INF] Information-messages
2024-07-14 04:44:20.203 +03:00 [WRN] warning-messages
2024-07-14 04:44:20.204 +03:00 [ERR] error-messages
2024-07-14 04:44:20.205 +03:00 [FTL] critical-messages
2024-07-14 04:44:20.341 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:44:20.465 +03:00 [DBG] Hosting starting
2024-07-14 04:44:20.497 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:44:20.507 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:44:20.520 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:44:20.522 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:44:20.525 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:44:20.527 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:44:20.536 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:44:20.545 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:44:20.547 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:44:20.549 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:44:20.551 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:44:20.564 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:44:20.572 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:44:20.580 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:44:20.584 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:44:20.594 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:44:20.602 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:44:20.611 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:44:20.614 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:44:20.849 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:44:20.863 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:44:20.865 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:44:20.867 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:44:20.869 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:44:20.871 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:44:20.872 +03:00 [INF] Hosting environment: Development
2024-07-14 04:44:20.877 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:44:20.879 +03:00 [DBG] Hosting started
2024-07-14 04:44:21.011 +03:00 [DBG] Connection id "0HN53KPTMGS61" received FIN.
2024-07-14 04:44:21.011 +03:00 [DBG] Connection id "0HN53KPTMGS62" received FIN.
2024-07-14 04:44:21.012 +03:00 [DBG] Connection id "0HN53KPTMGS62" accepted.
2024-07-14 04:44:21.012 +03:00 [DBG] Connection id "0HN53KPTMGS61" accepted.
2024-07-14 04:44:21.019 +03:00 [DBG] Connection id "0HN53KPTMGS62" started.
2024-07-14 04:44:21.020 +03:00 [DBG] Connection id "0HN53KPTMGS61" started.
2024-07-14 04:44:21.042 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:44:21.042 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:44:21.067 +03:00 [DBG] Connection id "0HN53KPTMGS62" stopped.
2024-07-14 04:44:21.067 +03:00 [DBG] Connection id "0HN53KPTMGS61" stopped.
2024-07-14 04:44:21.075 +03:00 [DBG] Connection id "0HN53KPTMGS62" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:44:21.075 +03:00 [DBG] Connection id "0HN53KPTMGS61" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:44:21.122 +03:00 [DBG] Connection id "0HN53KPTMGS63" accepted.
2024-07-14 04:44:21.128 +03:00 [DBG] Connection id "0HN53KPTMGS63" started.
2024-07-14 04:44:21.247 +03:00 [DBG] Connection 0HN53KPTMGS63 established using the following protocol: "Tls12"
2024-07-14 04:44:21.360 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:44:21.517 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:44:21.577 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:44:21.587 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:44:21.781 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:44:21.817 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:44:21.832 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 479.7504ms
2024-07-14 04:44:21.870 +03:00 [DBG] Connection id "0HN53KPTMGS64" received FIN.
2024-07-14 04:44:21.876 +03:00 [DBG] Connection id "0HN53KPTMGS64" accepted.
2024-07-14 04:44:21.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:44:21.882 +03:00 [DBG] Connection id "0HN53KPTMGS65" accepted.
2024-07-14 04:44:21.885 +03:00 [DBG] Connection id "0HN53KPTMGS64" started.
2024-07-14 04:44:21.885 +03:00 [DBG] Connection id "0HN53KPTMGS65" started.
2024-07-14 04:44:21.887 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:44:21.897 +03:00 [DBG] Connection id "0HN53KPTMGS64" stopped.
2024-07-14 04:44:21.898 +03:00 [DBG] Connection id "0HN53KPTMGS64" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:44:21.902 +03:00 [DBG] Connection 0HN53KPTMGS65 established using the following protocol: "Tls12"
2024-07-14 04:44:21.927 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:44:21.950 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:44:21.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.5158ms
2024-07-14 04:44:21.971 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:44:21.978 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:44:21.982 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:44:21.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:44:21.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 7.2611ms
2024-07-14 04:44:22.197 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:44:22.282 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:44:22.289 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:44:22.352 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:44:22.360 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:44:22.362 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:44:22.364 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:44:22.368 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:44:22.371 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:44:22.377 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:44:22.380 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:44:22.391 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:44:22.397 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:44:22.402 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:44:22.437 +03:00 [DBG] Connection id "0HN53KPTMGS65", Request id "0HN53KPTMGS65:00000001": started reading request body.
2024-07-14 04:44:22.439 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:44:22.442 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:44:22.441 +03:00 [DBG] Connection id "0HN53KPTMGS65", Request id "0HN53KPTMGS65:00000001": done reading request body.
2024-07-14 04:44:22.444 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:44:22.460 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:44:22.462 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:44:22.464 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:44:22.466 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:44:22.495 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:44:22.503 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:44:22.505 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:44:22.718 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 278.8042ms
2024-07-14 04:44:23.442 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:44:23.446 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:44:23.449 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:44:23.656 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:44:23.660 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:44:23.720 +03:00 [DBG] Connection id "0HN53KPTMGS63" received FIN.
2024-07-14 04:44:23.727 +03:00 [DBG] The connection queue processing loop for 0HN53KPTMGS63 completed.
2024-07-14 04:44:23.731 +03:00 [DBG] Connection id "0HN53KPTMGS63" is closed. The last processed stream ID was 7.
2024-07-14 04:44:23.736 +03:00 [DBG] Connection id "0HN53KPTMGS63" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:44:23.750 +03:00 [DBG] Connection id "0HN53KPTMGS63" stopped.
2024-07-14 04:44:23.973 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:44:24.063 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:44:24.356 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:44:24.442 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:44:24.446 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:44:24.476 +03:00 [DBG] Created DbConnection. (23ms).
2024-07-14 04:44:24.488 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2024-07-14 04:44:24.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (76ms).
2024-07-14 04:44:24.519 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:44:24.726 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:44:24.745 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:44:24.807 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:44:24.829 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:44:24.844 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 22ms reading results.
2024-07-14 04:44:24.850 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:44:24.860 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (11ms).
2024-07-14 04:44:24.863 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:44:24.864 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:44:26.000 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 3621.813ms
2024-07-14 04:44:26.003 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:44:26.008 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:44:26.035 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:44:26.064 +03:00 [DBG] Connection id "0HN53KPTMGS65" completed keep alive response.
2024-07-14 04:44:26.069 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:44:26.077 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:44:26.082 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-14 04:44:26.085 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 4157.9063ms
2024-07-14 04:46:17.767 +03:00 [DBG] debug-messages
2024-07-14 04:46:17.829 +03:00 [INF] Information-messages
2024-07-14 04:46:17.830 +03:00 [WRN] warning-messages
2024-07-14 04:46:17.832 +03:00 [ERR] error-messages
2024-07-14 04:46:17.833 +03:00 [FTL] critical-messages
2024-07-14 04:46:17.911 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:46:18.010 +03:00 [DBG] Hosting starting
2024-07-14 04:46:18.040 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:46:18.049 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:46:18.062 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:46:18.064 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:46:18.066 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:46:18.071 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:46:18.082 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:46:18.098 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:46:18.106 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:46:18.109 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:46:18.111 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:46:18.127 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:46:18.144 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:46:18.153 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:46:18.157 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:46:18.166 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:46:18.175 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:46:18.184 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:46:18.187 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:46:18.372 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:46:18.373 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:46:18.375 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:46:18.377 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:46:18.378 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:46:18.380 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:46:18.381 +03:00 [INF] Hosting environment: Development
2024-07-14 04:46:18.383 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:46:18.385 +03:00 [DBG] Hosting started
2024-07-14 04:46:18.865 +03:00 [DBG] Connection id "0HN53KR0QF0NK" accepted.
2024-07-14 04:46:18.865 +03:00 [DBG] Connection id "0HN53KR0QF0NL" accepted.
2024-07-14 04:46:18.867 +03:00 [DBG] Connection id "0HN53KR0QF0NK" received FIN.
2024-07-14 04:46:18.869 +03:00 [DBG] Connection id "0HN53KR0QF0NL" received FIN.
2024-07-14 04:46:18.872 +03:00 [DBG] Connection id "0HN53KR0QF0NK" started.
2024-07-14 04:46:18.873 +03:00 [DBG] Connection id "0HN53KR0QF0NL" started.
2024-07-14 04:46:18.905 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:46:18.905 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:46:18.928 +03:00 [DBG] Connection id "0HN53KR0QF0NM" accepted.
2024-07-14 04:46:18.929 +03:00 [DBG] Connection id "0HN53KR0QF0NL" stopped.
2024-07-14 04:46:18.930 +03:00 [DBG] Connection id "0HN53KR0QF0NK" stopped.
2024-07-14 04:46:18.936 +03:00 [DBG] Connection id "0HN53KR0QF0NM" started.
2024-07-14 04:46:18.941 +03:00 [DBG] Connection id "0HN53KR0QF0NL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:46:18.941 +03:00 [DBG] Connection id "0HN53KR0QF0NK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:46:19.033 +03:00 [DBG] Connection 0HN53KR0QF0NM established using the following protocol: "Tls12"
2024-07-14 04:46:19.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:46:19.204 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:46:19.233 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:46:19.235 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:46:19.385 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:46:19.433 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:46:19.443 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 345.8505ms
2024-07-14 04:46:19.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:46:19.504 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:46:19.512 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 8.3745ms
2024-07-14 04:46:19.555 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.7425ms
2024-07-14 04:46:19.762 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:46:19.764 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:46:19.766 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:46:20.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 278.6454ms
2024-07-14 04:46:23.881 +03:00 [DBG] Connection id "0HN53KR0QF0NM" received FIN.
2024-07-14 04:46:23.887 +03:00 [DBG] The connection queue processing loop for 0HN53KR0QF0NM completed.
2024-07-14 04:46:23.891 +03:00 [DBG] Connection id "0HN53KR0QF0NM" is closed. The last processed stream ID was 7.
2024-07-14 04:46:23.894 +03:00 [DBG] Connection id "0HN53KR0QF0NM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:46:23.911 +03:00 [DBG] Connection id "0HN53KR0QF0NM" stopped.
2024-07-14 04:46:44.204 +03:00 [DBG] Connection id "0HN53KR0QF0NN" accepted.
2024-07-14 04:46:44.206 +03:00 [DBG] Connection id "0HN53KR0QF0NN" received FIN.
2024-07-14 04:46:44.207 +03:00 [DBG] Connection id "0HN53KR0QF0NN" started.
2024-07-14 04:46:44.207 +03:00 [DBG] Connection id "0HN53KR0QF0NO" accepted.
2024-07-14 04:46:44.210 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:46:44.211 +03:00 [DBG] Connection id "0HN53KR0QF0NO" started.
2024-07-14 04:46:44.217 +03:00 [DBG] Connection id "0HN53KR0QF0NN" stopped.
2024-07-14 04:46:44.221 +03:00 [DBG] Connection id "0HN53KR0QF0NN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:46:44.227 +03:00 [DBG] Connection 0HN53KR0QF0NO established using the following protocol: "Tls12"
2024-07-14 04:46:44.242 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 262
2024-07-14 04:46:44.252 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:46:44.262 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:46:44.266 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:46:44.271 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:46:44.446 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:46:44.508 +03:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2024-07-14 04:46:44.514 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:46:44.577 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:46:44.582 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:46:44.587 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:46:44.589 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:46:44.592 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:46:44.594 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:46:44.599 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:46:44.603 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:46:44.608 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:46:44.612 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:46:44.616 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:46:44.631 +03:00 [DBG] Connection id "0HN53KR0QF0NO", Request id "0HN53KR0QF0NO:00000001": started reading request body.
2024-07-14 04:46:44.633 +03:00 [DBG] Connection id "0HN53KR0QF0NO", Request id "0HN53KR0QF0NO:00000001": done reading request body.
2024-07-14 04:46:44.642 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:46:44.645 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:46:44.646 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:46:44.648 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:46:44.668 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:46:44.674 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:46:44.676 +03:00 [DBG] Is za1300@fayoum.edu.eg Already Exist?
2024-07-14 04:46:45.378 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:46:45.382 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:46:45.386 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:46:45.542 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:46:45.545 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:46:45.827 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:46:45.887 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:46:46.182 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:46:46.260 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:46:46.264 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:46:46.297 +03:00 [DBG] Created DbConnection. (27ms).
2024-07-14 04:46:46.310 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (50ms).
2024-07-14 04:46:46.328 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (69ms).
2024-07-14 04:46:46.335 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:46:46.594 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:46:46.608 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:46:46.648 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:46:46.662 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:46:46.676 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 15ms reading results.
2024-07-14 04:46:46.681 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:46:46.693 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (11ms).
2024-07-14 04:46:46.695 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:46:46.697 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:46:47.744 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 3143.4029ms
2024-07-14 04:46:47.747 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:46:47.752 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:46:47.775 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: The SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.7.0 Authentication Required. For more information, go to
   at System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response)
   at System.Net.Mail.MailCommand.EndSend(IAsyncResult result)
   at System.Net.Mail.SendMailAsyncResult.SendMailFromCompleted(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SendMailAsyncResult.End(IAsyncResult result)
   at System.Net.Mail.SmtpClient.SendMailCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:46:47.799 +03:00 [DBG] Connection id "0HN53KR0QF0NO" completed keep alive response.
2024-07-14 04:46:47.812 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:46:47.822 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:46:47.827 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-07-14 04:46:47.830 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 262 - 500 - text/plain;+charset=utf-8 3587.6221ms
2024-07-14 04:48:41.404 +03:00 [DBG] debug-messages
2024-07-14 04:48:41.461 +03:00 [INF] Information-messages
2024-07-14 04:48:41.462 +03:00 [WRN] warning-messages
2024-07-14 04:48:41.463 +03:00 [ERR] error-messages
2024-07-14 04:48:41.465 +03:00 [FTL] critical-messages
2024-07-14 04:48:41.551 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:48:41.671 +03:00 [DBG] Hosting starting
2024-07-14 04:48:41.698 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:48:41.706 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:48:41.717 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:48:41.720 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:48:41.722 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:48:41.724 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:48:41.731 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:48:41.739 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:48:41.741 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:48:41.742 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:48:41.744 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:48:41.754 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:48:41.759 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:48:41.764 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:48:41.767 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:48:41.774 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:48:41.780 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:48:41.786 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:48:41.788 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:48:41.931 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:48:41.935 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:48:41.938 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:48:41.940 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:48:41.941 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:48:41.943 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:48:41.945 +03:00 [INF] Hosting environment: Development
2024-07-14 04:48:41.947 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:48:41.949 +03:00 [DBG] Hosting started
2024-07-14 04:48:42.192 +03:00 [DBG] Connection id "0HN53KSBHB6EE" accepted.
2024-07-14 04:48:42.192 +03:00 [DBG] Connection id "0HN53KSBHB6EF" accepted.
2024-07-14 04:48:42.196 +03:00 [DBG] Connection id "0HN53KSBHB6EE" started.
2024-07-14 04:48:42.196 +03:00 [DBG] Connection id "0HN53KSBHB6EF" started.
2024-07-14 04:48:42.212 +03:00 [DBG] Connection id "0HN53KSBHB6EF" received FIN.
2024-07-14 04:48:42.212 +03:00 [DBG] Connection id "0HN53KSBHB6EE" received FIN.
2024-07-14 04:48:42.222 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:48:42.222 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:48:42.246 +03:00 [DBG] Connection id "0HN53KSBHB6EG" accepted.
2024-07-14 04:48:42.249 +03:00 [DBG] Connection id "0HN53KSBHB6EF" stopped.
2024-07-14 04:48:42.249 +03:00 [DBG] Connection id "0HN53KSBHB6EE" stopped.
2024-07-14 04:48:42.251 +03:00 [DBG] Connection id "0HN53KSBHB6EG" started.
2024-07-14 04:48:42.257 +03:00 [DBG] Connection id "0HN53KSBHB6EF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:48:42.257 +03:00 [DBG] Connection id "0HN53KSBHB6EE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:48:42.311 +03:00 [DBG] Connection 0HN53KSBHB6EG established using the following protocol: "Tls12"
2024-07-14 04:48:42.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:48:42.514 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:48:42.547 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:48:42.549 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:48:42.675 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:48:42.706 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:48:42.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 321.1941ms
2024-07-14 04:48:42.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:48:42.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:48:42.738 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 8.8629ms
2024-07-14 04:48:42.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.1571ms
2024-07-14 04:48:43.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:48:43.003 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:48:43.005 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:48:43.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 288.7134ms
2024-07-14 04:48:44.043 +03:00 [DBG] Connection id "0HN53KSBHB6EG" received FIN.
2024-07-14 04:48:44.049 +03:00 [DBG] The connection queue processing loop for 0HN53KSBHB6EG completed.
2024-07-14 04:48:44.054 +03:00 [DBG] Connection id "0HN53KSBHB6EG" is closed. The last processed stream ID was 7.
2024-07-14 04:48:44.057 +03:00 [DBG] Connection id "0HN53KSBHB6EG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:48:44.069 +03:00 [DBG] Connection id "0HN53KSBHB6EG" stopped.
2024-07-14 04:48:50.616 +03:00 [DBG] Connection id "0HN53KSBHB6EH" accepted.
2024-07-14 04:48:50.618 +03:00 [DBG] Connection id "0HN53KSBHB6EH" started.
2024-07-14 04:48:50.651 +03:00 [DBG] Connection id "0HN53KSBHB6EI" accepted.
2024-07-14 04:48:50.651 +03:00 [DBG] Connection id "0HN53KSBHB6EH" received FIN.
2024-07-14 04:48:50.652 +03:00 [DBG] Connection id "0HN53KSBHB6EI" started.
2024-07-14 04:48:50.655 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:48:50.661 +03:00 [DBG] Connection id "0HN53KSBHB6EH" stopped.
2024-07-14 04:48:50.666 +03:00 [DBG] Connection id "0HN53KSBHB6EH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:48:50.717 +03:00 [DBG] Connection 0HN53KSBHB6EI established using the following protocol: "Tls12"
2024-07-14 04:48:50.790 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:48:50.800 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:48:50.808 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:48:50.812 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:48:50.819 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:48:50.999 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:48:51.697 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:48:51.700 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:48:51.704 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:48:51.908 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:48:51.911 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:48:52.177 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:48:52.284 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-07-14 04:48:52.634 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:48:52.702 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:48:52.705 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:48:52.733 +03:00 [DBG] Created DbConnection. (21ms).
2024-07-14 04:48:52.741 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-07-14 04:48:52.757 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (57ms).
2024-07-14 04:48:52.766 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:52.964 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:52.976 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:48:53.083 +03:00 [INF] Executed DbCommand (106ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:48:53.104 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.116 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 21ms reading results.
2024-07-14 04:48:53.122 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.131 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (9ms).
2024-07-14 04:48:53.135 +03:00 [DBG] Failed to validate a security stamp.
2024-07-14 04:48:53.137 +03:00 [DBG] Security stamp validation failed, rejecting cookie.
2024-07-14 04:48:53.148 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-07-14 04:48:53.153 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-14 04:48:53.156 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-07-14 04:48:53.158 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2024-07-14 04:48:53.162 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2024-07-14 04:48:53.167 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:48:53.200 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:48:53.206 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:48:53.208 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:48:53.212 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:48:53.217 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:48:53.219 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:48:53.224 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:48:53.229 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:48:53.237 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:48:53.241 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:48:53.248 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:48:53.269 +03:00 [DBG] Connection id "0HN53KSBHB6EI", Request id "0HN53KSBHB6EI:00000001": started reading request body.
2024-07-14 04:48:53.272 +03:00 [DBG] Connection id "0HN53KSBHB6EI", Request id "0HN53KSBHB6EI:00000001": done reading request body.
2024-07-14 04:48:53.287 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:48:53.289 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:48:53.291 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:48:53.293 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:48:53.316 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:48:53.322 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:48:53.324 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:48:53.337 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:48:53.366 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:48:53.391 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:48:53.392 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 04:48:53.397 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 04:48:53.401 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.405 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.407 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:48:53.419 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:48:53.430 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.432 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 9ms reading results.
2024-07-14 04:48:53.435 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:53.437 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:48:53.440 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:48:53.441 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:48:54.751 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1525.4874ms
2024-07-14 04:48:54.754 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:48:54.757 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:48:54.787 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:48:54.821 +03:00 [DBG] Connection id "0HN53KSBHB6EI" completed keep alive response.
2024-07-14 04:48:54.829 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:48:54.836 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:48:54.839 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-14 04:48:54.842 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 4051.7111ms
2024-07-14 04:51:05.267 +03:00 [DBG] Connection id "0HN53KSBHB6EI" disconnecting.
2024-07-14 04:51:05.269 +03:00 [DBG] Connection id "0HN53KSBHB6EI" stopped.
2024-07-14 04:51:05.272 +03:00 [DBG] Connection id "0HN53KSBHB6EI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:52:46.651 +03:00 [DBG] debug-messages
2024-07-14 04:52:46.695 +03:00 [INF] Information-messages
2024-07-14 04:52:46.697 +03:00 [WRN] warning-messages
2024-07-14 04:52:46.698 +03:00 [ERR] error-messages
2024-07-14 04:52:46.699 +03:00 [FTL] critical-messages
2024-07-14 04:52:46.768 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:52:46.848 +03:00 [DBG] Hosting starting
2024-07-14 04:52:46.873 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:52:46.879 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:52:46.892 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:52:46.894 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:52:46.897 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:52:46.899 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:52:46.909 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:52:46.919 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:52:46.922 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:52:46.924 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:52:46.936 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:52:46.948 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:52:46.955 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:52:46.961 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:52:46.964 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:52:46.973 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:52:46.981 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:52:46.988 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:52:46.990 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:52:47.172 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:52:47.174 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:52:47.176 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:52:47.177 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:52:47.179 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:52:47.181 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:52:47.182 +03:00 [INF] Hosting environment: Development
2024-07-14 04:52:47.185 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:52:47.186 +03:00 [DBG] Hosting started
2024-07-14 04:52:47.478 +03:00 [DBG] Connection id "0HN53KUKKIA6V" accepted.
2024-07-14 04:52:47.478 +03:00 [DBG] Connection id "0HN53KUKKIA70" accepted.
2024-07-14 04:52:47.480 +03:00 [DBG] Connection id "0HN53KUKKIA6V" started.
2024-07-14 04:52:47.481 +03:00 [DBG] Connection id "0HN53KUKKIA70" started.
2024-07-14 04:52:47.505 +03:00 [DBG] Connection id "0HN53KUKKIA70" received FIN.
2024-07-14 04:52:47.505 +03:00 [DBG] Connection id "0HN53KUKKIA6V" received FIN.
2024-07-14 04:52:47.513 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:52:47.513 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:52:47.533 +03:00 [DBG] Connection id "0HN53KUKKIA70" stopped.
2024-07-14 04:52:47.533 +03:00 [DBG] Connection id "0HN53KUKKIA6V" stopped.
2024-07-14 04:52:47.537 +03:00 [DBG] Connection id "0HN53KUKKIA70" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:52:47.537 +03:00 [DBG] Connection id "0HN53KUKKIA6V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:52:47.556 +03:00 [DBG] Connection id "0HN53KUKKIA71" accepted.
2024-07-14 04:52:47.558 +03:00 [DBG] Connection id "0HN53KUKKIA71" started.
2024-07-14 04:52:47.604 +03:00 [DBG] Connection 0HN53KUKKIA71 established using the following protocol: "Tls12"
2024-07-14 04:52:47.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:52:47.789 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:52:47.831 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:52:47.833 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:52:47.975 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:52:48.006 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:52:48.013 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 345.9562ms
2024-07-14 04:52:48.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:52:48.030 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:52:48.041 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 10.6887ms
2024-07-14 04:52:48.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.9197ms
2024-07-14 04:52:48.226 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:52:48.227 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:52:48.229 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:52:48.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 238.0962ms
2024-07-14 04:52:50.938 +03:00 [DBG] Connection id "0HN53KUKKIA72" accepted.
2024-07-14 04:52:50.939 +03:00 [DBG] Connection id "0HN53KUKKIA72" received FIN.
2024-07-14 04:52:50.940 +03:00 [DBG] Connection id "0HN53KUKKIA73" accepted.
2024-07-14 04:52:50.941 +03:00 [DBG] Connection id "0HN53KUKKIA72" started.
2024-07-14 04:52:50.943 +03:00 [DBG] Connection id "0HN53KUKKIA73" started.
2024-07-14 04:52:50.945 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:52:50.952 +03:00 [DBG] Connection id "0HN53KUKKIA72" stopped.
2024-07-14 04:52:50.954 +03:00 [DBG] Connection id "0HN53KUKKIA72" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:52:50.982 +03:00 [DBG] Connection 0HN53KUKKIA73 established using the following protocol: "Tls12"
2024-07-14 04:52:50.996 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:52:51.004 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:52:51.011 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:52:51.014 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:52:51.019 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:52:51.159 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:52:51.966 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:52:51.970 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:52:51.973 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:52:52.145 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:52:52.148 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:52:52.427 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:52:52.563 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-07-14 04:52:52.831 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:52:52.905 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:52:52.910 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:52:52.948 +03:00 [DBG] Created DbConnection. (34ms).
2024-07-14 04:52:52.963 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (54ms).
2024-07-14 04:52:52.978 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (74ms).
2024-07-14 04:52:52.986 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.197 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.219 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:52:53.299 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:52:53.326 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.339 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 23ms reading results.
2024-07-14 04:52:53.347 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.357 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (10ms).
2024-07-14 04:52:53.362 +03:00 [DBG] Failed to validate a security stamp.
2024-07-14 04:52:53.365 +03:00 [DBG] Security stamp validation failed, rejecting cookie.
2024-07-14 04:52:53.375 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-07-14 04:52:53.386 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-14 04:52:53.389 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-07-14 04:52:53.391 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2024-07-14 04:52:53.395 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2024-07-14 04:52:53.403 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:52:53.431 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:52:53.437 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:52:53.440 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:52:53.442 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:52:53.446 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:52:53.448 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:52:53.453 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:52:53.456 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:52:53.463 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:52:53.470 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:52:53.474 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:52:53.494 +03:00 [DBG] Connection id "0HN53KUKKIA73", Request id "0HN53KUKKIA73:00000001": started reading request body.
2024-07-14 04:52:53.496 +03:00 [DBG] Connection id "0HN53KUKKIA73", Request id "0HN53KUKKIA73:00000001": done reading request body.
2024-07-14 04:52:53.511 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:52:53.513 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:52:53.516 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:52:53.520 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:52:53.541 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:52:53.547 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:52:53.549 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:52:53.559 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:52:53.589 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:52:53.621 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:52:53.623 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 04:52:53.625 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-14 04:52:53.628 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.634 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.637 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:52:53.690 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:52:53.701 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.703 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 8ms reading results.
2024-07-14 04:52:53.706 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:53.709 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:52:53.711 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:52:53.712 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:52:54.503 +03:00 [DBG] Connection id "0HN53KUKKIA71" received FIN.
2024-07-14 04:52:54.506 +03:00 [DBG] The connection queue processing loop for 0HN53KUKKIA71 completed.
2024-07-14 04:52:54.506 +03:00 [DBG] Connection id "0HN53KUKKIA71" is closed. The last processed stream ID was 7.
2024-07-14 04:52:54.510 +03:00 [DBG] Connection id "0HN53KUKKIA71" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:52:54.518 +03:00 [DBG] Connection id "0HN53KUKKIA71" stopped.
2024-07-14 04:52:54.857 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1400.62ms
2024-07-14 04:52:54.861 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:52:54.864 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:52:54.894 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:52:54.926 +03:00 [DBG] Connection id "0HN53KUKKIA73" completed keep alive response.
2024-07-14 04:52:54.947 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:52:54.959 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:52:54.968 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-07-14 04:52:54.972 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 3975.7971ms
2024-07-14 04:53:08.737 +03:00 [DBG] debug-messages
2024-07-14 04:53:08.783 +03:00 [INF] Information-messages
2024-07-14 04:53:08.784 +03:00 [WRN] warning-messages
2024-07-14 04:53:08.785 +03:00 [ERR] error-messages
2024-07-14 04:53:08.787 +03:00 [FTL] critical-messages
2024-07-14 04:53:08.860 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:53:09.062 +03:00 [DBG] Hosting starting
2024-07-14 04:53:09.244 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:53:09.254 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:53:09.268 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:53:09.275 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:53:09.277 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:53:09.279 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:53:09.290 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:53:09.298 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:53:09.301 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:53:09.303 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:53:09.305 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:53:09.319 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:53:09.325 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:53:09.331 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:53:09.336 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:53:09.345 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:53:09.354 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:53:09.361 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:53:09.363 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:53:09.554 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:53:09.556 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:53:09.558 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:53:09.560 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:53:09.563 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:53:09.565 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:53:09.568 +03:00 [INF] Hosting environment: Development
2024-07-14 04:53:09.570 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:53:09.571 +03:00 [DBG] Hosting started
2024-07-14 04:53:09.575 +03:00 [DBG] Connection id "0HN53KUR79RET" accepted.
2024-07-14 04:53:09.578 +03:00 [DBG] Connection id "0HN53KUR79RET" started.
2024-07-14 04:53:09.588 +03:00 [DBG] Connection id "0HN53KUR79RET" received FIN.
2024-07-14 04:53:09.594 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:53:09.611 +03:00 [DBG] Connection id "0HN53KUR79RET" stopped.
2024-07-14 04:53:09.614 +03:00 [DBG] Connection id "0HN53KUR79RET" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:09.693 +03:00 [DBG] Connection id "0HN53KUR79REU" accepted.
2024-07-14 04:53:09.696 +03:00 [DBG] Connection id "0HN53KUR79REU" started.
2024-07-14 04:53:09.755 +03:00 [DBG] Connection 0HN53KUR79REU established using the following protocol: "Tls12"
2024-07-14 04:53:09.837 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:53:09.972 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:53:10.011 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:53:10.013 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:53:10.200 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:53:10.227 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:53:10.235 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 402.6033ms
2024-07-14 04:53:10.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:53:10.252 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:53:10.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 9.3073ms
2024-07-14 04:53:10.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.9081ms
2024-07-14 04:53:10.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:53:10.428 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:53:10.430 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:53:10.739 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 312.7182ms
2024-07-14 04:53:11.234 +03:00 [DBG] Connection id "0HN53KUR79REV" accepted.
2024-07-14 04:53:11.235 +03:00 [DBG] Connection id "0HN53KUR79REV" received FIN.
2024-07-14 04:53:11.236 +03:00 [DBG] Connection id "0HN53KUR79RF0" accepted.
2024-07-14 04:53:11.236 +03:00 [DBG] Connection id "0HN53KUR79REV" started.
2024-07-14 04:53:11.240 +03:00 [DBG] Connection id "0HN53KUR79RF0" started.
2024-07-14 04:53:11.242 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:53:11.249 +03:00 [DBG] Connection id "0HN53KUR79REV" stopped.
2024-07-14 04:53:11.251 +03:00 [DBG] Connection id "0HN53KUR79REV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:11.253 +03:00 [DBG] Connection 0HN53KUR79RF0 established using the following protocol: "Tls12"
2024-07-14 04:53:11.266 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:53:11.274 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:53:11.280 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:53:11.285 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:11.288 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:53:11.429 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:53:12.044 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:53:12.048 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:53:12.051 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:53:12.234 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:53:12.237 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:53:12.460 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:53:12.572 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-07-14 04:53:12.804 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:53:12.853 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:53:12.858 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:53:12.880 +03:00 [DBG] Created DbConnection. (20ms).
2024-07-14 04:53:12.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2024-07-14 04:53:12.907 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (55ms).
2024-07-14 04:53:12.915 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.125 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.138 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:53:13.192 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:53:13.211 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.222 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 20ms reading results.
2024-07-14 04:53:13.228 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.239 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (10ms).
2024-07-14 04:53:13.243 +03:00 [DBG] Failed to validate a security stamp.
2024-07-14 04:53:13.246 +03:00 [DBG] Security stamp validation failed, rejecting cookie.
2024-07-14 04:53:13.253 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-07-14 04:53:13.259 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-14 04:53:13.262 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-07-14 04:53:13.264 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2024-07-14 04:53:13.270 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2024-07-14 04:53:13.276 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:13.306 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:53:13.311 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:53:13.314 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:53:13.317 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:53:13.320 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:53:13.323 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:53:13.326 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:53:13.329 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:53:13.337 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:53:13.341 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:53:13.346 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:53:13.364 +03:00 [DBG] Connection id "0HN53KUR79RF0", Request id "0HN53KUR79RF0:00000001": started reading request body.
2024-07-14 04:53:13.368 +03:00 [DBG] Connection id "0HN53KUR79RF0", Request id "0HN53KUR79RF0:00000001": done reading request body.
2024-07-14 04:53:13.383 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:53:13.385 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:13.388 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:13.390 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:53:13.408 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:13.413 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:53:13.416 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:53:13.424 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:53:13.456 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:53:13.481 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:53:13.484 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-07-14 04:53:13.488 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-07-14 04:53:13.491 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.497 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.501 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:53:13.509 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:53:13.525 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.527 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 13ms reading results.
2024-07-14 04:53:13.531 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.534 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (3ms).
2024-07-14 04:53:13.537 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:53:13.538 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:53:13.570 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 238.7827ms
2024-07-14 04:53:13.573 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:13.576 +03:00 [ERR] An error occurred.
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, ParseAddressInfo& parsedAddress, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.Message..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at SocialMedia.Services.Services.UserService.SendEmail(String email, String subject, String message) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 137
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:53:13.607 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The specified string is not in the form required for an e-mail address.
   at System.Net.Mail.MailAddressParser.TryReadCfwsAndThrowIfIncomplete(String data, Int32 index, Int32& outIndex, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseDomain(String data, Int32& index, String& domain, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, Boolean expectMultipleAddresses, Int32& index, ParseAddressInfo& parseAddressInfo, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddressParser.TryParseAddress(String data, ParseAddressInfo& parsedAddress, Boolean throwExceptionIfFail)
   at System.Net.Mail.MailAddress.TryParse(String address, String displayName, Encoding displayNameEncoding, ValueTuple`4& parsedData, Boolean throwExceptionIfFail)
   at System.Net.Mail.Message..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to)
   at System.Net.Mail.MailMessage..ctor(String from, String to, String subject, String body)
   at SocialMedia.Services.Services.UserService.SendEmail(String email, String subject, String message) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMedia.Services\Services\UserService.cs:line 137
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:53:13.631 +03:00 [DBG] Connection id "0HN53KUR79RF0" completed keep alive response.
2024-07-14 04:53:13.639 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:53:13.643 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:13.646 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-14 04:53:13.649 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 2382.7146ms
2024-07-14 04:53:14.517 +03:00 [DBG] Connection id "0HN53KUR79REU" received FIN.
2024-07-14 04:53:14.522 +03:00 [DBG] Connection id "0HN53KUR79REU" is closed. The last processed stream ID was 7.
2024-07-14 04:53:14.522 +03:00 [DBG] The connection queue processing loop for 0HN53KUR79REU completed.
2024-07-14 04:53:14.524 +03:00 [DBG] Connection id "0HN53KUR79REU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:14.531 +03:00 [DBG] Connection id "0HN53KUR79REU" stopped.
2024-07-14 04:53:34.614 +03:00 [DBG] debug-messages
2024-07-14 04:53:34.658 +03:00 [INF] Information-messages
2024-07-14 04:53:34.662 +03:00 [WRN] warning-messages
2024-07-14 04:53:34.663 +03:00 [ERR] error-messages
2024-07-14 04:53:34.664 +03:00 [FTL] critical-messages
2024-07-14 04:53:34.724 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:53:34.789 +03:00 [DBG] Hosting starting
2024-07-14 04:53:34.811 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:53:34.818 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:53:34.826 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:53:34.830 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:53:34.832 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:53:34.834 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:53:34.839 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:53:34.847 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:53:34.850 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:53:34.851 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:53:34.853 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:53:34.861 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:53:34.868 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:53:34.874 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:53:34.878 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:53:34.884 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:53:34.892 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:53:34.900 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:53:34.904 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:53:35.023 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:53:35.025 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:53:35.028 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:53:35.030 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:53:35.032 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:53:35.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:53:35.034 +03:00 [INF] Hosting environment: Development
2024-07-14 04:53:35.036 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:53:35.037 +03:00 [DBG] Hosting started
2024-07-14 04:53:35.118 +03:00 [DBG] Connection id "0HN53KV2QSQNJ" accepted.
2024-07-14 04:53:35.118 +03:00 [DBG] Connection id "0HN53KV2QSQNK" accepted.
2024-07-14 04:53:35.119 +03:00 [DBG] Connection id "0HN53KV2QSQNJ" received FIN.
2024-07-14 04:53:35.119 +03:00 [DBG] Connection id "0HN53KV2QSQNK" received FIN.
2024-07-14 04:53:35.120 +03:00 [DBG] Connection id "0HN53KV2QSQNJ" started.
2024-07-14 04:53:35.122 +03:00 [DBG] Connection id "0HN53KV2QSQNK" started.
2024-07-14 04:53:35.141 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:53:35.141 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:53:35.159 +03:00 [DBG] Connection id "0HN53KV2QSQNJ" stopped.
2024-07-14 04:53:35.159 +03:00 [DBG] Connection id "0HN53KV2QSQNK" stopped.
2024-07-14 04:53:35.163 +03:00 [DBG] Connection id "0HN53KV2QSQNJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:35.163 +03:00 [DBG] Connection id "0HN53KV2QSQNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:35.291 +03:00 [DBG] Connection id "0HN53KV2QSQNL" accepted.
2024-07-14 04:53:35.294 +03:00 [DBG] Connection id "0HN53KV2QSQNL" started.
2024-07-14 04:53:35.339 +03:00 [DBG] Connection 0HN53KV2QSQNL established using the following protocol: "Tls12"
2024-07-14 04:53:35.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:53:35.529 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:53:35.612 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:53:35.617 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:53:35.860 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:53:35.901 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:53:35.908 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 511.7401ms
2024-07-14 04:53:35.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:53:35.920 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:53:35.929 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 7.2312ms
2024-07-14 04:53:35.980 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.4391ms
2024-07-14 04:53:36.118 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:53:36.120 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:53:36.122 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:53:36.125 +03:00 [DBG] Connection id "0HN53KV2QSQNM" accepted.
2024-07-14 04:53:36.126 +03:00 [DBG] Connection id "0HN53KV2QSQNM" received FIN.
2024-07-14 04:53:36.128 +03:00 [DBG] Connection id "0HN53KV2QSQNM" started.
2024-07-14 04:53:36.128 +03:00 [DBG] Connection id "0HN53KV2QSQNN" accepted.
2024-07-14 04:53:36.134 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:53:36.135 +03:00 [DBG] Connection id "0HN53KV2QSQNN" started.
2024-07-14 04:53:36.140 +03:00 [DBG] Connection id "0HN53KV2QSQNM" stopped.
2024-07-14 04:53:36.144 +03:00 [DBG] Connection id "0HN53KV2QSQNM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:36.153 +03:00 [DBG] Connection 0HN53KV2QSQNN established using the following protocol: "Tls12"
2024-07-14 04:53:36.172 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:53:36.187 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:53:36.203 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:53:36.206 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:36.212 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:53:36.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.9811ms
2024-07-14 04:53:36.367 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:53:37.122 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:53:37.126 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:53:37.129 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:53:37.269 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:53:37.272 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:53:37.511 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:53:37.616 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-07-14 04:53:37.853 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:53:37.906 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:53:37.910 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:53:37.945 +03:00 [DBG] Created DbConnection. (30ms).
2024-07-14 04:53:37.958 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (51ms).
2024-07-14 04:53:37.983 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (80ms).
2024-07-14 04:53:37.993 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.201 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.213 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:53:38.271 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:53:38.291 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.302 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 19ms reading results.
2024-07-14 04:53:38.308 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.317 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (8ms).
2024-07-14 04:53:38.322 +03:00 [DBG] Failed to validate a security stamp.
2024-07-14 04:53:38.325 +03:00 [DBG] Security stamp validation failed, rejecting cookie.
2024-07-14 04:53:38.336 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-07-14 04:53:38.345 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-14 04:53:38.349 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-07-14 04:53:38.352 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2024-07-14 04:53:38.355 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2024-07-14 04:53:38.366 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:38.411 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:53:38.420 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:53:38.423 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:53:38.427 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:53:38.433 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:53:38.435 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:53:38.440 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:53:38.443 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:53:38.452 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:53:38.459 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:53:38.465 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:53:38.483 +03:00 [DBG] Connection id "0HN53KV2QSQNN", Request id "0HN53KV2QSQNN:00000001": started reading request body.
2024-07-14 04:53:38.486 +03:00 [DBG] Connection id "0HN53KV2QSQNN", Request id "0HN53KV2QSQNN:00000001": done reading request body.
2024-07-14 04:53:38.494 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:53:38.497 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:38.500 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:38.502 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:53:38.516 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:53:38.522 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:53:38.524 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:53:38.533 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:53:38.553 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:53:38.583 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:53:38.586 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-14 04:53:38.589 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-07-14 04:53:38.593 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.601 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.604 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:53:38.616 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:53:38.627 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.630 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 9ms reading results.
2024-07-14 04:53:38.634 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:38.637 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:53:38.640 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:53:38.641 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:53:39.578 +03:00 [DBG] Connection id "0HN53KV2QSQNL" received FIN.
2024-07-14 04:53:39.587 +03:00 [DBG] The connection queue processing loop for 0HN53KV2QSQNL completed.
2024-07-14 04:53:39.587 +03:00 [DBG] Connection id "0HN53KV2QSQNL" is closed. The last processed stream ID was 7.
2024-07-14 04:53:39.601 +03:00 [DBG] Connection id "0HN53KV2QSQNL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:53:39.623 +03:00 [DBG] Connection id "0HN53KV2QSQNL" stopped.
2024-07-14 04:53:39.770 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1327.9863ms
2024-07-14 04:53:39.775 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:53:39.778 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:53:39.810 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:53:39.837 +03:00 [DBG] Connection id "0HN53KV2QSQNN" completed keep alive response.
2024-07-14 04:53:39.843 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:53:39.850 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:53:39.855 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-14 04:53:39.857 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 3685.0014ms
2024-07-14 04:54:03.965 +03:00 [DBG] debug-messages
2024-07-14 04:54:04.018 +03:00 [INF] Information-messages
2024-07-14 04:54:04.019 +03:00 [WRN] warning-messages
2024-07-14 04:54:04.021 +03:00 [ERR] error-messages
2024-07-14 04:54:04.022 +03:00 [FTL] critical-messages
2024-07-14 04:54:04.172 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-14 04:54:04.430 +03:00 [DBG] Hosting starting
2024-07-14 04:54:04.456 +03:00 [INF] User profile is available. Using 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-14 04:54:04.465 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5.xml'.
2024-07-14 04:54:04.476 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-0a228ab3-8951-46e7-a96d-23771960201b.xml'.
2024-07-14 04:54:04.479 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-245c0a72-8b3f-4865-a8f3-044c8465e7ce.xml'.
2024-07-14 04:54:04.482 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-9e24c8a4-8c0a-4b11-8441-7806fc961171.xml'.
2024-07-14 04:54:04.484 +03:00 [DBG] Reading data from file 'C:\Users\El-Wattaneya\AppData\Local\ASP.NET\DataProtection-Keys\key-f8bc08b4-5662-407f-9999-ef927521d255.xml'.
2024-07-14 04:54:04.492 +03:00 [DBG] Found key {00c2f2ee-c1a7-4776-a7e8-5bdf1497aff5}.
2024-07-14 04:54:04.499 +03:00 [DBG] Found key {0a228ab3-8951-46e7-a96d-23771960201b}.
2024-07-14 04:54:04.502 +03:00 [DBG] Found key {245c0a72-8b3f-4865-a8f3-044c8465e7ce}.
2024-07-14 04:54:04.503 +03:00 [DBG] Found key {9e24c8a4-8c0a-4b11-8441-7806fc961171}.
2024-07-14 04:54:04.505 +03:00 [DBG] Found key {f8bc08b4-5662-407f-9999-ef927521d255}.
2024-07-14 04:54:04.517 +03:00 [DBG] Considering key {9e24c8a4-8c0a-4b11-8441-7806fc961171} with expiration date 2024-08-18 11:19:54Z as default key.
2024-07-14 04:54:04.524 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:54:04.531 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-14 04:54:04.534 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-14 04:54:04.543 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-14 04:54:04.551 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-14 04:54:04.560 +03:00 [DBG] Using key {9e24c8a4-8c0a-4b11-8441-7806fc961171} as the default key.
2024-07-14 04:54:04.562 +03:00 [DBG] Key ring with default key {9e24c8a4-8c0a-4b11-8441-7806fc961171} was loaded during application startup.
2024-07-14 04:54:04.762 +03:00 [INF] Now listening on: https://localhost:7125
2024-07-14 04:54:04.767 +03:00 [INF] Now listening on: http://localhost:5005
2024-07-14 04:54:04.769 +03:00 [DBG] Loaded hosting startup assembly SocialMediaApi
2024-07-14 04:54:04.770 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-14 04:54:04.772 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-14 04:54:04.774 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-14 04:54:04.776 +03:00 [INF] Hosting environment: Development
2024-07-14 04:54:04.778 +03:00 [INF] Content root path: D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi
2024-07-14 04:54:04.780 +03:00 [DBG] Hosting started
2024-07-14 04:54:04.848 +03:00 [DBG] Connection id "0HN53KVBMDSBA" accepted.
2024-07-14 04:54:04.848 +03:00 [DBG] Connection id "0HN53KVBMDSBB" accepted.
2024-07-14 04:54:04.852 +03:00 [DBG] Connection id "0HN53KVBMDSBB" received FIN.
2024-07-14 04:54:04.852 +03:00 [DBG] Connection id "0HN53KVBMDSBA" received FIN.
2024-07-14 04:54:04.853 +03:00 [DBG] Connection id "0HN53KVBMDSBA" started.
2024-07-14 04:54:04.854 +03:00 [DBG] Connection id "0HN53KVBMDSBB" started.
2024-07-14 04:54:04.874 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:54:04.874 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:54:04.898 +03:00 [DBG] Connection id "0HN53KVBMDSBA" stopped.
2024-07-14 04:54:04.898 +03:00 [DBG] Connection id "0HN53KVBMDSBB" stopped.
2024-07-14 04:54:04.905 +03:00 [DBG] Connection id "0HN53KVBMDSBA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:54:04.905 +03:00 [DBG] Connection id "0HN53KVBMDSBB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:54:04.958 +03:00 [DBG] Connection id "0HN53KVBMDSBC" accepted.
2024-07-14 04:54:04.961 +03:00 [DBG] Connection id "0HN53KVBMDSBC" started.
2024-07-14 04:54:05.017 +03:00 [DBG] Connection 0HN53KVBMDSBC established using the following protocol: "Tls12"
2024-07-14 04:54:05.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/index.html - -
2024-07-14 04:54:05.221 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-14 04:54:05.271 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-14 04:54:05.274 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:54:05.436 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-14 04:54:05.471 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-14 04:54:05.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/index.html - - - 200 - text/html;charset=utf-8 380.5647ms
2024-07-14 04:54:05.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_vs/browserLink - -
2024-07-14 04:54:05.501 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - -
2024-07-14 04:54:05.511 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_framework/aspnetcore-browser-refresh.js - - - 200 13764 application/javascript;+charset=utf-8 8.2974ms
2024-07-14 04:54:05.556 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.0378ms
2024-07-14 04:54:05.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - -
2024-07-14 04:54:05.731 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-14 04:54:05.734 +03:00 [DBG] Request did not match any endpoints
2024-07-14 04:54:06.070 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7125/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 342.2073ms
2024-07-14 04:54:06.506 +03:00 [DBG] Connection id "0HN53KVBMDSBD" accepted.
2024-07-14 04:54:06.507 +03:00 [DBG] Connection id "0HN53KVBMDSBD" received FIN.
2024-07-14 04:54:06.508 +03:00 [DBG] Connection id "0HN53KVBMDSBD" started.
2024-07-14 04:54:06.509 +03:00 [DBG] Connection id "0HN53KVBMDSBE" accepted.
2024-07-14 04:54:06.514 +03:00 [DBG] Connection id "0HN53KVBMDSBE" started.
2024-07-14 04:54:06.512 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-14 04:54:06.520 +03:00 [DBG] Connection id "0HN53KVBMDSBD" stopped.
2024-07-14 04:54:06.521 +03:00 [DBG] Connection id "0HN53KVBMDSBD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:54:06.524 +03:00 [DBG] Connection 0HN53KVBMDSBE established using the following protocol: "Tls12"
2024-07-14 04:54:06.537 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266
2024-07-14 04:54:06.544 +03:00 [DBG] 1 candidate(s) found for the request path '/api/user/register'
2024-07-14 04:54:06.552 +03:00 [DBG] Endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)' with route pattern 'api/User/register' is valid for the request path '/api/user/register'
2024-07-14 04:54:06.555 +03:00 [DBG] Request matched endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:54:06.558 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-14 04:54:06.702 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-14 04:54:07.544 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<Guid>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-07-14 04:54:07.549 +03:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<Guid>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-07-14 04:54:07.551 +03:00 [DBG] The index {'UserId'} was not created on entity type 'Like' as the properties are already covered by the index {'UserId', 'PostId'}.
2024-07-14 04:54:07.743 +03:00 [DBG] The property 'Chat.ReceiverUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:54:07.746 +03:00 [DBG] The property 'Chat.SenderUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-07-14 04:54:08.046 +03:00 [DBG] Entity Framework Core 7.0.19 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:7.0.19' with options: None
2024-07-14 04:54:08.199 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => object.Equals(
        objA: EF.Property<object>(e, "Id"), 
        objB: __get_Item_0))'
2024-07-14 04:54:08.509 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.Age (int) Required, 2], [Property: User.Bio (string), 3], [Property: User.BirthDay (DateTime) Required, 4], [Property: User.City (string), 5], [Property: User.ConcurrencyStamp (string) Concurrency, 6], [Property: User.Country (string), 7], [Property: User.CoverImageUrl (string), 8], [Property: User.Email (string) MaxLength(256), 9], [Property: User.EmailConfirmed (bool) Required, 10], [Property: User.FirstName (string), 11], [Property: User.Gender (Gender) Required, 12], [Property: User.LastName (string), 13], [Property: User.LockoutEnabled (bool) Required, 14], [Property: User.LockoutEnd (DateTimeOffset?), 15], [Property: User.NormalizedEmail (string) Index MaxLength(256), 16], [Property: User.NormalizedUserName (string) Index MaxLength(256), 17], [Property: User.PasswordHash (string), 18], [Property: User.PhoneNumber (string), 19], [Property: User.PhoneNumberConfirmed (bool) Required, 20], [Property: User.ProfileImageUrl (string), 21], [Property: User.SecurityStamp (string), 22], [Property: User.TwoFactorEnabled (bool) Required, 23], [Property: User.UserName (string) MaxLength(256), 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.Age, a.Bio, a.BirthDay, a.City, a.ConcurrencyStamp, a.Country, a.CoverImageUrl, a.Email, a.EmailConfirmed, a.FirstName, a.Gender, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.ProfileImageUrl, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__get_Item_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        SocialMedia.Data.Data.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-14 04:54:08.576 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:54:08.579 +03:00 [DBG] Creating DbConnection.
2024-07-14 04:54:08.605 +03:00 [DBG] Created DbConnection. (22ms).
2024-07-14 04:54:08.616 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2024-07-14 04:54:08.628 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (53ms).
2024-07-14 04:54:08.638 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:08.856 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:08.877 +03:00 [DBG] Executing DbCommand [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:54:08.957 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[Age], [a].[Bio], [a].[BirthDay], [a].[City], [a].[ConcurrencyStamp], [a].[Country], [a].[CoverImageUrl], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfileImageUrl], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__get_Item_0
2024-07-14 04:54:08.976 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:08.989 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 19ms reading results.
2024-07-14 04:54:08.997 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:09.004 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (8ms).
2024-07-14 04:54:09.008 +03:00 [DBG] Failed to validate a security stamp.
2024-07-14 04:54:09.010 +03:00 [DBG] Security stamp validation failed, rejecting cookie.
2024-07-14 04:54:09.017 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2024-07-14 04:54:09.022 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2024-07-14 04:54:09.025 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2024-07-14 04:54:09.027 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2024-07-14 04:54:09.030 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2024-07-14 04:54:09.038 +03:00 [INF] Executing endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:54:09.088 +03:00 [INF] Route matched with {action = "AddUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddUser(SocialMedia.Data.Data.DTO.RegisterDTO) on controller SocialMediaApi.Controllers.UserController (SocialMediaApi).
2024-07-14 04:54:09.093 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-14 04:54:09.096 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-14 04:54:09.101 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-14 04:54:09.105 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-14 04:54:09.107 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-14 04:54:09.112 +03:00 [DBG] Executing controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:54:09.118 +03:00 [DBG] Executed controller factory for controller SocialMediaApi.Controllers.UserController (SocialMediaApi)
2024-07-14 04:54:09.127 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:54:09.134 +03:00 [DBG] Attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' using the name '' in request data ...
2024-07-14 04:54:09.138 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-14 04:54:09.159 +03:00 [DBG] Connection id "0HN53KVBMDSBE", Request id "0HN53KVBMDSBE:00000001": started reading request body.
2024-07-14 04:54:09.162 +03:00 [DBG] Connection id "0HN53KVBMDSBE", Request id "0HN53KVBMDSBE:00000001": done reading request body.
2024-07-14 04:54:09.178 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'SocialMedia.Data.Data.DTO.RegisterDTO'
2024-07-14 04:54:09.183 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:54:09.185 +03:00 [DBG] Done attempting to bind parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:54:09.187 +03:00 [DBG] Attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO' ...
2024-07-14 04:54:09.208 +03:00 [DBG] Done attempting to validate the bound parameter 'registerUser' of type 'SocialMedia.Data.Data.DTO.RegisterDTO'.
2024-07-14 04:54:09.216 +03:00 [INF] IsEmailAlreadyExist of UserService
2024-07-14 04:54:09.217 +03:00 [DBG] Is zeiad.ahmed202@gmail.com Already Exist?
2024-07-14 04:54:09.224 +03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(u => u.Email.ToLower() == __ToLower_0)'
2024-07-14 04:54:09.252 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE LOWER(a.Email) == @__ToLower_0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    SocialMedia.Data.Data.AppDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2024-07-14 04:54:09.276 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-14 04:54:09.277 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-14 04:54:09.282 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-14 04:54:09.284 +03:00 [DBG] Opening connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:09.289 +03:00 [DBG] Opened connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:09.291 +03:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:54:09.302 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__ToLower_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE LOWER([a].[Email]) = @__ToLower_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-07-14 04:54:09.317 +03:00 [DBG] Closing data reader to 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:09.319 +03:00 [DBG] A data reader for 'SocialMediaApi' on server 'PC-1' is being disposed after spending 13ms reading results.
2024-07-14 04:54:09.323 +03:00 [DBG] Closing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:09.326 +03:00 [DBG] Closed connection to database 'SocialMediaApi' on server 'PC-1' (2ms).
2024-07-14 04:54:09.328 +03:00 [INF] AddUser Action Method of UserController
2024-07-14 04:54:09.330 +03:00 [DBG] Added User: Ziad Ahmed
2024-07-14 04:54:09.628 +03:00 [DBG] Connection id "0HN53KVBMDSBC" received FIN.
2024-07-14 04:54:09.634 +03:00 [DBG] Connection id "0HN53KVBMDSBC" is closed. The last processed stream ID was 7.
2024-07-14 04:54:09.634 +03:00 [DBG] The connection queue processing loop for 0HN53KVBMDSBC completed.
2024-07-14 04:54:09.636 +03:00 [DBG] Connection id "0HN53KVBMDSBC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-14 04:54:09.642 +03:00 [DBG] Connection id "0HN53KVBMDSBC" stopped.
2024-07-14 04:54:10.419 +03:00 [INF] Executed action SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi) in 1303.9555ms
2024-07-14 04:54:10.423 +03:00 [INF] Executed endpoint 'SocialMediaApi.Controllers.UserController.AddUser (SocialMediaApi)'
2024-07-14 04:54:10.426 +03:00 [ERR] An error occurred.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
2024-07-14 04:54:10.452 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.IO.IOException: Unable to read data from the transport connection: The connection was closed.
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.ProcessRead()
   at System.Net.Mail.SmtpReplyReaderFactory.ReadLinesAsyncResult.Read()
   at System.Net.Mail.CheckCommand.BeginSend(SmtpConnection conn, AsyncCallback callback, Object state)
   at System.Net.Mail.SendMailAsyncResult.SendMailFrom()
   at System.Net.Mail.SmtpTransport.BeginSendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, AsyncCallback callback, Object state)
   at System.Net.Mail.SmtpClient.SendMailAsync(Object state)
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at SocialMediaApi.Controllers.UserController.AddUser(RegisterDTO registerUser) in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Controllers\UserController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Program.<>c__DisplayClass0_0.<<<Main>$>b__2>d.MoveNext() in D:\Asp.Net Core 2023\Projects\Social Media Api\SocialMediaApi\SocialMediaApi\Program.cs:line 63
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-14 04:54:10.483 +03:00 [DBG] Connection id "0HN53KVBMDSBE" completed keep alive response.
2024-07-14 04:54:10.509 +03:00 [DBG] 'AppDbContext' disposed.
2024-07-14 04:54:10.525 +03:00 [DBG] Disposing connection to database 'SocialMediaApi' on server 'PC-1'.
2024-07-14 04:54:10.533 +03:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-07-14 04:54:10.538 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7125/api/user/register application/json 266 - 500 - text/plain;+charset=utf-8 4000.7768ms
2024-07-14 04:56:20.762 +03:00 [DBG] Connection id "0HN53KVBMDSBE" disconnecting.
2024-07-14 04:56:20.764 +03:00 [DBG] Connection id "0HN53KVBMDSBE" stopped.
2024-07-14 04:56:20.765 +03:00 [DBG] Connection id "0HN53KVBMDSBE" sending FIN because: "The Socket transport's send loop completed gracefully."
